Title: Rotation matrix

URL Source: https://en.wikipedia.org/wiki/Rotation_matrix

Published Time: 2004-07-25T08:16:53Z

Markdown Content:
Jump to content
Main menu
Search
Appearance
Donate
Create account
Log in
Personal tools
Toggle the table of contents
Rotation matrix
25 languages
Article
Talk
Read
Edit
View history
Tools
From Wikipedia, the free encyclopedia
	
This article needs editing to comply with Wikipedia's Manual of Style. In particular, it has problems with MOS:FORMULA - avoid mixing <math>...</math> and {{math}} in the same expression. Please help improve the content. (July 2025) (Learn how and when to remove this message)

In linear algebra, a rotation matrix is a transformation matrix that is used to perform a rotation in Euclidean space. For example, using the convention below, the matrix

ğ‘…
=
[
cos
â¡
ğœƒ
	
âˆ’
sin
â¡
ğœƒ


sin
â¡
ğœƒ
	
cos
â¡
ğœƒ
]

rotates points in the xy plane counterclockwise through an angle Î¸ about the origin of a two-dimensional Cartesian coordinate system. To perform the rotation on a plane point with standard coordinates v = (x, y), it should be written as a column vector, and multiplied by the matrix R:

ğ‘…
ğ‘£
=
[
cos
â¡
ğœƒ
	
âˆ’
sin
â¡
ğœƒ


sin
â¡
ğœƒ
	
cos
â¡
ğœƒ
]
[
ğ‘¥


ğ‘¦
]
=
[
ğ‘¥
cos
â¡
ğœƒ
âˆ’
ğ‘¦
sin
â¡
ğœƒ


ğ‘¥
sin
â¡
ğœƒ
+
ğ‘¦
cos
â¡
ğœƒ
]
.

If x and y are the coordinates of the endpoint of a vector with the length r and the angle 
ğœ™
 with respect to the x-axis, so that 
ğ‘¥
=
ğ‘Ÿ
cos
â¡
ğœ™
 and 
ğ‘¦
=
ğ‘Ÿ
sin
â¡
ğœ™
, then the above equations become the trigonometric summation angle formulae:
ğ‘…
ğ‘£
=
ğ‘Ÿ
[
cos
â¡
ğœ™
cos
â¡
ğœƒ
âˆ’
sin
â¡
ğœ™
sin
â¡
ğœƒ


cos
â¡
ğœ™
sin
â¡
ğœƒ
+
sin
â¡
ğœ™
cos
â¡
ğœƒ
]
=
ğ‘Ÿ
[
cos
â¡
(
ğœ™
+
ğœƒ
)


sin
â¡
(
ğœ™
+
ğœƒ
)
]
.
Indeed, this is the trigonometric summation angle formulae in matrix form. One way to understand this is to say we have a vector at an angle 30Â° from the x-axis, and we wish to rotate that angle by a further 45Â°. We simply need to compute the vector endpoint coordinates at 75Â°.

The examples in this article apply to active rotations of vectors counterclockwise in a right-handed coordinate system (y counterclockwise from x) by pre-multiplication (the rotation matrix R applied on the left of the column vector v to be rotated). If any one of these is changed (such as rotating axes instead of vectors, a passive transformation), then the inverse of the example matrix should be used, which coincides with its transpose.

Since matrix multiplication has no effect on the zero vector (the coordinates of the origin), rotation matrices describe rotations about the origin. Rotation matrices provide an algebraic description of such rotations, and are used extensively for computations in geometry, physics, and computer graphics. In some literature, the term rotation is generalized to include improper rotations, characterized by orthogonal matrices with a determinant of âˆ’1 (instead of +1). An improper rotation combines a proper rotation with reflections (which invert orientation). In other cases, where reflections are not being considered, the label proper may be dropped. The latter convention is followed in this article.

Rotation matrices are square matrices, with real entries. More specifically, they can be characterized as orthogonal matrices with determinant 1; that is, a square matrix R is a rotation matrix if and only if RT = Râˆ’1 and det R = 1. The set of all orthogonal matrices of size n with determinant +1 is a representation of a group known as the special orthogonal group SO(n), one example of which is the rotation group SO(3). The set of all orthogonal matrices of size n with determinant +1 or âˆ’1 is a representation of the (general) orthogonal group O(n).

In two dimensions[edit]
A counterclockwise rotation of a vector through angle Î¸. The vector is initially aligned with the x-axis.

In two dimensions, the standard rotation matrix has the following form:

ğ‘…
(
ğœƒ
)
=
[
cos
â¡
ğœƒ
	
âˆ’
sin
â¡
ğœƒ


sin
â¡
ğœƒ
	
cos
â¡
ğœƒ
]
.

This rotates column vectors by means of the following matrix multiplication,

[
ğ‘¥
â€²


ğ‘¦
â€²
]
=
[
cos
â¡
ğœƒ
	
âˆ’
sin
â¡
ğœƒ


sin
â¡
ğœƒ
	
cos
â¡
ğœƒ
]
[
ğ‘¥


ğ‘¦
]
.

Thus, the new coordinates (xâ€², yâ€²) of a point (x, y) after rotation are

ğ‘¥
â€²
	
=
ğ‘¥
cos
â¡
ğœƒ
âˆ’
ğ‘¦
sin
â¡
ğœƒ


ğ‘¦
â€²
	
=
ğ‘¥
sin
â¡
ğœƒ
+
ğ‘¦
cos
â¡
ğœƒ
.
Examples[edit]

For example, when the vector (initially aligned with the x-axis of the Cartesian coordinate system)

ğ‘¥
^
=
[
1


0
]

is rotated by an angle Î¸, its new coordinates are

[
cos
â¡
ğœƒ


sin
â¡
ğœƒ
]
,

and when the vector (initially aligned with the y-axis of the coordinate system)

ğ‘¦
^
=
[
0


1
]

is rotated by an angle Î¸, its new coordinates are

[
âˆ’
sin
â¡
ğœƒ


cos
â¡
ğœƒ
]
.
Direction[edit]

The direction of vector rotation is counterclockwise if Î¸ is positive (e.g. 90Â°), and clockwise if Î¸ is negative (e.g. âˆ’90Â°) for 
ğ‘…
(
ğœƒ
)
. Thus the clockwise rotation matrix is found as (by replacing Î¸ with -Î¸ and using the trigonometric symmetry of 
sin
â¡
(
âˆ’
ğœƒ
)
=
âˆ’
sin
â¡
(
ğœƒ
)
 and 
cos
â¡
(
âˆ’
ğœƒ
)
=
cos
â¡
(
ğœƒ
)
)

ğ‘…
(
âˆ’
ğœƒ
)
=
[
cos
â¡
ğœƒ
	
sin
â¡
ğœƒ


âˆ’
sin
â¡
ğœƒ
	
cos
â¡
ğœƒ
]
.

An alternative convention uses rotating axes (instead of rotating a vector),[1] and the above matrices also represent a rotation of the axes clockwise through an angle Î¸.

The two-dimensional case is the only non-trivial case where the rotation matrices group is commutative; it does not matter in which order rotations are multiply performed. For the 3-dimensional case, for example, a different order of multiple rotations gives a different result. (E.g., rotating a cell phone along z-axis then y-axis is not equal to rotations along the y-axis then z-axis.)

Non-standard orientation of the coordinate system[edit]
A rotation through angle Î¸ with non-standard axes.

If a standard right-handed Cartesian coordinate system is used, with the x-axis to the right and the y-axis up, the rotation R(Î¸) is counterclockwise. If a left-handed Cartesian coordinate system is used, with x directed to the right but y directed down, R(Î¸) is clockwise. Such non-standard orientations are rarely used in mathematics but are common in 2D computer graphics, which often have the origin in the top left corner and the y-axis down the screen or page.[2]

See below for other alternative conventions which may change the sense of the rotation produced by a rotation matrix.

Common 2D rotations[edit]

Matrices

[
0
	
âˆ’
1


1
	
0
]
,
[
âˆ’
1
	
0


0
	
âˆ’
1
]
,
[
0
	
1


âˆ’
1
	
0
]

are 2D rotation matrices corresponding to counter-clockwise rotations of respective angles of 90Â°, 180Â°, and 270Â°.

Relationship with complex plane[edit]

The matrices of the shape
[
ğ‘¥
	
âˆ’
ğ‘¦


ğ‘¦
	
ğ‘¥
]
form a ring, since their set is closed under addition and multiplication. Since
[
0
	
âˆ’
1


1
	
0
]
2
Â 
=
Â 
[
âˆ’
1
	
0


0
	
âˆ’
1
]
Â 
=
âˆ’
ğ¼
(where 
ğ¼
 is the identity matrix), the map

[
ğ‘¥
	
âˆ’
ğ‘¦


ğ‘¦
	
ğ‘¥
]
=
ğ‘¥
[
1
	
0


0
	
1
]
+
ğ‘¦
[
0
	
âˆ’
1


1
	
0
]
â†¦
ğ‘¥
+
ğ‘–
ğ‘¦

(where 
[
0
	
âˆ’
1


1
	
0
]
 corresponds to 
ğ‘–
) is a ring isomorphism from this ring to the field of the complex numbers â 
ğ¶
â  (incidentally, this shows that this ring is a field). Under this isomorphism, the rotation matrices 
[
cos
â¡
ğ‘¡
	
âˆ’
sin
â¡
ğ‘¡


sin
â¡
ğ‘¡
	
cos
â¡
ğ‘¡
]
=
cos
â¡
ğ‘¡
[
1
	
0


0
	
1
]
+
sin
â¡
ğ‘¡
[
0
	
âˆ’
1


1
	
0
]
correspond to the circle of the unit complex numbers, the complex numbers of modulus 1, since 
cos
â¡
ğ‘¡
2
+
sin
â¡
ğ‘¡
2
=
1
. As a result, the following equality holds,
ğ‘’
ğ‘–
ğ‘¡
=
cos
â¡
ğ‘¡
+
ğ‘–
sin
â¡
ğ‘¡
=
cos
â¡
ğ‘¡
[
1
	
0


0
	
1
]
+
sin
â¡
ğ‘¡
[
0
	
âˆ’
1


1
	
0
]
=
(
cos
â¡
ğ‘¡
	
âˆ’
sin
â¡
ğ‘¡


sin
â¡
ğ‘¡
	
cos
â¡
ğ‘¡
)
where the first equality is Euler's formula, the matrix 
ğ¼
=
[
1
	
0


0
	
1
]
corresponds to 1, and the matrix 
[
0
	
âˆ’
1


1
	
0
]
 corresponds to the imaginary unit 
ğ‘–
.

If one identifies 
ğ‘…
2
 with 
ğ¶
 through the linear isomorphism 
(
ğ‘
,
ğ‘
)
â†¦
ğ‘
+
ğ‘–
ğ‘
, where 
(
ğ‘
,
ğ‘
)
âˆˆ
ğ‘…
2
 and 
ğ‘
+
ğ‘–
ğ‘
âˆˆ
ğ¶
, the action of a matrix 
[
ğ‘¥
	
âˆ’
ğ‘¦


ğ‘¦
	
ğ‘¥
]
 on a vector 
(
ğ‘
,
ğ‘
)
 corresponds to multiplication on the complex number 
ğ‘
+
ğ‘–
ğ‘
 by x + iy. In other words, a vector rotation corresponds to multiplication on a complex number (corresponding to the vector being rotated) by a complex number of modulus 1 (corresponding to the rotation matrix).

In three dimensions[edit]
See also: Rotation formalisms in three dimensions
Basic 3D rotations[edit]

A basic 3D rotation (also called elemental rotation) is a rotation about one of the axes of a coordinate system. The following three basic rotation matrices rotate vectors by an angle Î¸ about the x-, y-, or z-axis, in three dimensions, using the right-hand ruleâ€”which codifies their alternating signs.[3] Notice that the right-hand rule only works when multiplying 
ğ‘…
â‹…
ğ‘¥
â†’
. (The same matrices can also represent a clockwise rotation of the axes keeping the vectors unchanged.[nb 1])




ğ‘…
ğ‘¥
(
ğœƒ
)
	
=
[
1
	
0
	
0


0
	
cos
â¡
ğœƒ
	
âˆ’
sin
â¡
ğœƒ


0
	
sin
â¡
ğœƒ
	
cos
â¡
ğœƒ
]


ğ‘…
ğ‘¦
(
ğœƒ
)
	
=
[
cos
â¡
ğœƒ
	
0
	
sin
â¡
ğœƒ


0
	
1
	
0


âˆ’
sin
â¡
ğœƒ
	
0
	
cos
â¡
ğœƒ
]


ğ‘…
ğ‘§
(
ğœƒ
)
	
=
[
cos
â¡
ğœƒ
	
âˆ’
sin
â¡
ğœƒ
	
0


sin
â¡
ğœƒ
	
cos
â¡
ğœƒ
	
0


0
	
0
	
1
]

For column vectors, each of these basic vector rotations appears counterclockwise when the axis about which they occur points toward the observer, the coordinate system is right-handed, and the angle Î¸ is positive. Rz, for instance, would rotate toward the y-axis a vector aligned with the x-axis, as can easily be checked by operating with Rz on the vector (1,0,0):

ğ‘…
ğ‘§
(
90
âˆ˜
)
[
1


0


0
]
=
[
cos
â¡
90
âˆ˜
	
âˆ’
sin
â¡
90
âˆ˜
	
0


sin
â¡
90
âˆ˜
	
cos
â¡
90
âˆ˜
	
0


0
	
0
	
1
]
[
1


0


0
]
=
[
0
	
âˆ’
1
	
0


1
	
0
	
0


0
	
0
	
1
]
[
1


0


0
]
=
[
0


1


0
]

This is similar to the rotation produced by the above-mentioned two-dimensional rotation matrix. See below for alternative conventions which may apparently or actually invert the sense of the rotation produced by these matrices.

General 3D rotations[edit]

Other 3D rotation matrices can be obtained from these three using matrix multiplication. For example, the product

ğ‘…
=
ğ‘…
ğ‘§
(
ğ›¼
)
ğ‘…
ğ‘¦
(
ğ›½
)
ğ‘…
ğ‘¥
(
ğ›¾
)
	
=
[
cos
â¡
ğ›¼
	
âˆ’
sin
â¡
ğ›¼
	
0


sin
â¡
ğ›¼
	
cos
â¡
ğ›¼
	
0


0
	
0
	
1
]
yaw
[
cos
â¡
ğ›½
	
0
	
sin
â¡
ğ›½


0
	
1
	
0


âˆ’
sin
â¡
ğ›½
	
0
	
cos
â¡
ğ›½
]
pitch
[
1
	
0
	
0


0
	
cos
â¡
ğ›¾
	
âˆ’
sin
â¡
ğ›¾


0
	
sin
â¡
ğ›¾
	
cos
â¡
ğ›¾
]
roll

	
=
[
cos
â¡
ğ›¼
cos
â¡
ğ›½
	
cos
â¡
ğ›¼
sin
â¡
ğ›½
sin
â¡
ğ›¾
âˆ’
sin
â¡
ğ›¼
cos
â¡
ğ›¾
	
cos
â¡
ğ›¼
sin
â¡
ğ›½
cos
â¡
ğ›¾
+
sin
â¡
ğ›¼
sin
â¡
ğ›¾


sin
â¡
ğ›¼
cos
â¡
ğ›½
	
sin
â¡
ğ›¼
sin
â¡
ğ›½
sin
â¡
ğ›¾
+
cos
â¡
ğ›¼
cos
â¡
ğ›¾
	
sin
â¡
ğ›¼
sin
â¡
ğ›½
cos
â¡
ğ›¾
âˆ’
cos
â¡
ğ›¼
sin
â¡
ğ›¾


âˆ’
sin
â¡
ğ›½
	
cos
â¡
ğ›½
sin
â¡
ğ›¾
	
cos
â¡
ğ›½
cos
â¡
ğ›¾
]

represents a rotation whose yaw, pitch, and roll angles are Î±, Î² and Î³, respectively. More formally, it is an intrinsic rotation whose Taitâ€“Bryan angles are Î±, Î², Î³, about axes z, y, x, respectively. Similarly, the product



ğ‘…
=
ğ‘…
ğ‘¥
(
ğ›¾
)
ğ‘…
ğ‘¦
(
ğ›½
)
ğ‘…
ğ‘§
(
ğ›¼
)
	
=
[
cos
â¡
ğ›¾
	
âˆ’
sin
â¡
ğ›¾
	
0


sin
â¡
ğ›¾
	
cos
â¡
ğ›¾
	
0


0
	
0
	
1
]
roll
[
cos
â¡
ğ›½
	
0
	
sin
â¡
ğ›½


0
	
1
	
0


âˆ’
sin
â¡
ğ›½
	
0
	
cos
â¡
ğ›½
]
pitch
[
1
	
0
	
0


0
	
cos
â¡
ğ›¼
	
âˆ’
sin
â¡
ğ›¼


0
	
sin
â¡
ğ›¼
	
cos
â¡
ğ›¼
]
yaw

	
=
[
cos
â¡
ğ›½
cos
â¡
ğ›¾
	
sin
â¡
ğ›¼
sin
â¡
ğ›½
cos
â¡
ğ›¾
âˆ’
cos
â¡
ğ›¼
sin
â¡
ğ›¾
	
cos
â¡
ğ›¼
sin
â¡
ğ›½
cos
â¡
ğ›¾
+
sin
â¡
ğ›¼
sin
â¡
ğ›¾


cos
â¡
ğ›½
sin
â¡
ğ›¾
	
sin
â¡
ğ›¼
sin
â¡
ğ›½
sin
â¡
ğ›¾
+
cos
â¡
ğ›¼
cos
â¡
ğ›¾
	
cos
â¡
ğ›¼
sin
â¡
ğ›½
sin
â¡
ğ›¾
âˆ’
sin
â¡
ğ›¼
cos
â¡
ğ›¾


âˆ’
sin
â¡
ğ›½
	
sin
â¡
ğ›¼
cos
â¡
ğ›½
	
cos
â¡
ğ›¼
cos
â¡
ğ›½
]

represents an extrinsic rotation whose (improper) Euler angles are Î±, Î², Î³, about axes x, y, z.

These matrices produce the desired effect only if they are used to premultiply column vectors, and (since in general matrix multiplication is not commutative) only if they are applied in the specified order (see Ambiguities for more details). The order of rotation operations is from right to left; the matrix adjacent to the column vector is the first to be applied, and then the one to the left.[4]

Conversion from rotation matrix to axisâ€“angle[edit]

Every rotation in three dimensions is defined by its axis (a vector along this axis is unchanged by the rotation), and its angle â€” the amount of rotation about that axis (Euler rotation theorem).

There are several methods to compute the axis and angle from a rotation matrix (see also axisâ€“angle representation). Here, we only describe the method based on the computation of the eigenvectors and eigenvalues of the rotation matrix. It is also possible to use the trace of the rotation matrix.

Determining the axis[edit]
A rotation R around axis u can be decomposed using 3 endomorphisms P, (I âˆ’ P), and Q (click to enlarge).

Given a 3 Ã— 3 rotation matrix R, a vector u parallel to the rotation axis must satisfy

ğ‘…
ğ‘¢
=
ğ‘¢
,

since the rotation of u around the rotation axis must result in u. The equation above may be solved for u which is unique up to a scalar factor unless R is the identity matrix I.

Further, the equation may be rewritten

ğ‘…
ğ‘¢
=
ğ¼
ğ‘¢
âŸ¹
(
ğ‘…
âˆ’
ğ¼
)
ğ‘¢
=
0
,

which shows that u lies in the null space of R âˆ’ I.

Viewed in another way, u is an eigenvector of R corresponding to the eigenvalue Î» = 1. Every rotation matrix must have this eigenvalue, the other two eigenvalues being complex conjugates of each other. It follows that a general rotation matrix in three dimensions has, up to a multiplicative constant, only one real eigenvector.

One way to determine the rotation axis is by showing that:

0
	
=
ğ‘…
ğ‘‡
0
+
0

	
=
ğ‘…
ğ‘‡
(
ğ‘…
âˆ’
ğ¼
)
ğ‘¢
+
(
ğ‘…
âˆ’
ğ¼
)
ğ‘¢

	
=
(
ğ‘…
ğ‘‡
ğ‘…
âˆ’
ğ‘…
ğ‘‡
+
ğ‘…
âˆ’
ğ¼
)
ğ‘¢

	
=
(
ğ¼
âˆ’
ğ‘…
ğ‘‡
+
ğ‘…
âˆ’
ğ¼
)
ğ‘¢

	
=
(
ğ‘…
âˆ’
ğ‘…
ğ‘‡
)
ğ‘¢

Since (R âˆ’ RT) is a skew-symmetric matrix, we can choose u such that

[
ğ‘¢
]
Ã—
=
(
ğ‘…
âˆ’
ğ‘…
ğ‘‡
)
.

The matrixâ€“vector product becomes a cross product of a vector with itself, ensuring that the result is zero:

(
ğ‘…
âˆ’
ğ‘…
ğ‘‡
)
ğ‘¢
=
[
ğ‘¢
]
Ã—
ğ‘¢
=
ğ‘¢
Ã—
ğ‘¢
=
0

Therefore, if

ğ‘…
=
[
ğ‘
	
ğ‘
	
ğ‘


ğ‘‘
	
ğ‘’
	
ğ‘“


ğ‘”
	
â„
	
ğ‘–
]
,

then

ğ‘¢
=
[
â„
âˆ’
ğ‘“


ğ‘
âˆ’
ğ‘”


ğ‘‘
âˆ’
ğ‘
]
.

The magnitude of u computed this way is â€–uâ€– = 2 sin Î¸, where Î¸ is the angle of rotation.

This does not work if R is symmetric. Above, if R âˆ’ RT is zero, then all subsequent steps are invalid. In this case, the angle of rotation is 0Â° or 180Â° and any nonzero column of I + R is an eigenvector of R with eigenvalue 1 because R(I + R) = R + R2 = R + RRT = I + R.[5]

Determining the angle[edit]

To find the angle of a rotation, once the axis of the rotation is known, select a vector v perpendicular to the axis. Then the angle of the rotation is the angle between v and Rv.

A more direct method, however, is to simply calculate the trace: the sum of the diagonal elements of the rotation matrix. Care should be taken to select the right sign for the angle Î¸ to match the chosen axis:

tr
â¡
(
ğ‘…
)
=
1
+
2
cos
â¡
ğœƒ
,

from which follows that the angle's absolute value is

|
ğœƒ
|
=
arccos
â¡
(
tr
â¡
(
ğ‘…
)
âˆ’
1
2
)
.

For the rotation axis 
ğ‘›
=
(
ğ‘›
1
,
ğ‘›
2
,
ğ‘›
3
)
, you can get the correct angle[6] from

{
cos
â¡
ğœƒ
	
=
	
tr
â¡
(
ğ‘…
)
âˆ’
1
2


sin
â¡
ğœƒ
	
=
	
âˆ’
tr
â¡
(
ğ¾
ğ‘›
ğ‘…
)
2

where

ğ¾
ğ‘›
=
[
0
	
âˆ’
ğ‘›
3
	
ğ‘›
2


ğ‘›
3
	
0
	
âˆ’
ğ‘›
1


âˆ’
ğ‘›
2
	
ğ‘›
1
	
0
]

Rotation matrix from axis and angle[edit]

The matrix of a proper rotation R by angle Î¸ around the axis u = (ux, uy, uz), a unit vector with u2
x + u2
y + u2
z = 1, is given by:[7] [8] [9] [10]

ğ‘…
=
[
ğ‘¢
ğ‘¥
2
(
1
âˆ’
cos
â¡
ğœƒ
)
+
cos
â¡
ğœƒ
	
ğ‘¢
ğ‘¥
ğ‘¢
ğ‘¦
(
1
âˆ’
cos
â¡
ğœƒ
)
âˆ’
ğ‘¢
ğ‘§
sin
â¡
ğœƒ
	
ğ‘¢
ğ‘¥
ğ‘¢
ğ‘§
(
1
âˆ’
cos
â¡
ğœƒ
)
+
ğ‘¢
ğ‘¦
sin
â¡
ğœƒ


ğ‘¢
ğ‘¥
ğ‘¢
ğ‘¦
(
1
âˆ’
cos
â¡
ğœƒ
)
+
ğ‘¢
ğ‘§
sin
â¡
ğœƒ
	
ğ‘¢
ğ‘¦
2
(
1
âˆ’
cos
â¡
ğœƒ
)
+
cos
â¡
ğœƒ
	
ğ‘¢
ğ‘¦
ğ‘¢
ğ‘§
(
1
âˆ’
cos
â¡
ğœƒ
)
âˆ’
ğ‘¢
ğ‘¥
sin
â¡
ğœƒ


ğ‘¢
ğ‘¥
ğ‘¢
ğ‘§
(
1
âˆ’
cos
â¡
ğœƒ
)
âˆ’
ğ‘¢
ğ‘¦
sin
â¡
ğœƒ
	
ğ‘¢
ğ‘¦
ğ‘¢
ğ‘§
(
1
âˆ’
cos
â¡
ğœƒ
)
+
ğ‘¢
ğ‘¥
sin
â¡
ğœƒ
	
ğ‘¢
ğ‘§
2
(
1
âˆ’
cos
â¡
ğœƒ
)
+
cos
â¡
ğœƒ
]
.

A derivation of this matrix from first principles can be found in section 9.2 here.[11] The basic idea to derive this matrix is dividing the problem into few known simple steps.

First rotate the given axis and the point such that the axis lies in one of the coordinate planes (xy, yz or zx)
Then rotate the given axis and the point such that the axis is aligned with one of the two coordinate axes for that particular coordinate plane (x, y or z)
Use one of the fundamental rotation matrices to rotate the point depending on the coordinate axis with which the rotation axis is aligned.
Reverse rotate the axis-point pair such that it attains the final configuration as that was in step 2 (Undoing step 2)
Reverse rotate the axis-point pair which was done in step 1 (undoing step 1)

This can be written more concisely as [12]

ğ‘…
=
(
cos
â¡
ğœƒ
)
ğ¼
+
(
sin
â¡
ğœƒ
)
[
ğ‘¢
]
Ã—
+
(
1
âˆ’
cos
â¡
ğœƒ
)
(
ğ‘¢
âŠ—
ğ‘¢
)
,

where [u]Ã— is the cross product matrix of u; the expression u âŠ— u is the outer product, and I is the identity matrix. Alternatively, the matrix entries are:

ğ‘…
ğ‘—
ğ‘˜
=
{
cos
2
â¡
ğœƒ
2
+
sin
2
â¡
ğœƒ
2
(
2
ğ‘¢
ğ‘—
2
âˆ’
1
)
,
	
ifÂ 
ğ‘—
=
ğ‘˜


2
ğ‘¢
ğ‘—
ğ‘¢
ğ‘˜
sin
2
â¡
ğœƒ
2
âˆ’
ğœ€
ğ‘—
ğ‘˜
ğ‘™
ğ‘¢
ğ‘™
sin
â¡
ğœƒ
,
	
ifÂ 
ğ‘—
â‰ 
ğ‘˜

where Îµjkl is the Levi-Civita symbol with Îµ123 = 1. This is a matrix form of Rodrigues' rotation formula, (or the equivalent, differently parametrized Eulerâ€“Rodrigues formula) with[nb 2]

ğ‘¢
âŠ—
ğ‘¢
=
ğ‘¢
ğ‘¢
ğ‘‡
=
[
ğ‘¢
ğ‘¥
2
	
ğ‘¢
ğ‘¥
ğ‘¢
ğ‘¦
	
ğ‘¢
ğ‘¥
ğ‘¢
ğ‘§


ğ‘¢
ğ‘¥
ğ‘¢
ğ‘¦
	
ğ‘¢
ğ‘¦
2
	
ğ‘¢
ğ‘¦
ğ‘¢
ğ‘§


ğ‘¢
ğ‘¥
ğ‘¢
ğ‘§
	
ğ‘¢
ğ‘¦
ğ‘¢
ğ‘§
	
ğ‘¢
ğ‘§
2
]
,
[
ğ‘¢
]
Ã—
=
[
0
	
âˆ’
ğ‘¢
ğ‘§
	
ğ‘¢
ğ‘¦


ğ‘¢
ğ‘§
	
0
	
âˆ’
ğ‘¢
ğ‘¥


âˆ’
ğ‘¢
ğ‘¦
	
ğ‘¢
ğ‘¥
	
0
]
.

In 
ğ‘…
3
 the rotation of a vector x around the axis u by an angle Î¸ can be written as:

ğ‘…
ğ‘¢
(
ğœƒ
)
ğ‘¥
=
ğ‘¢
(
ğ‘¢
â‹…
ğ‘¥
)
+
cos
â¡
(
ğœƒ
)
(
ğ‘¢
Ã—
ğ‘¥
)
Ã—
ğ‘¢
+
sin
â¡
(
ğœƒ
)
(
ğ‘¢
Ã—
ğ‘¥
)

or equivalently:

ğ‘…
ğ‘¢
(
ğœƒ
)
ğ‘¥
=
ğ‘¥
cos
â¡
(
ğœƒ
)
+
ğ‘¢
(
ğ‘¥
â‹…
ğ‘¢
)
(
1
âˆ’
cos
â¡
(
ğœƒ
)
)
âˆ’
ğ‘¥
Ã—
ğ‘¢
sin
â¡
ğœƒ

This can also be written in tensor notation as:[13]

(
ğ‘…
ğ‘¢
(
ğœƒ
)
ğ‘¥
)
ğ‘–
=
(
ğ‘…
ğ‘¢
(
ğœƒ
)
)
ğ‘–
ğ‘—
ğ‘¥
ğ‘—
with
(
ğ‘…
ğ‘¢
(
ğœƒ
)
)
ğ‘–
ğ‘—
=
ğ›¿
ğ‘–
ğ‘—
cos
â¡
(
ğœƒ
)
+
ğ‘¢
ğ‘–
ğ‘¢
ğ‘—
(
1
âˆ’
cos
â¡
(
ğœƒ
)
)
âˆ’
sin
â¡
ğœƒ
ğœ€
ğ‘–
ğ‘—
ğ‘˜
ğ‘¢
ğ‘˜

If the 3D space is right-handed and Î¸ > 0, this rotation will be counterclockwise when u points towards the observer (Right-hand rule). Explicitly, with 
(
ğ›¼
,
ğ›½
,
ğ‘¢
)
 a right-handed orthonormal basis,

ğ‘…
ğ‘¢
(
ğœƒ
)
ğ›¼
=
cos
â¡
(
ğœƒ
)
ğ›¼
+
sin
â¡
(
ğœƒ
)
ğ›½
,
ğ‘…
ğ‘¢
(
ğœƒ
)
ğ›½
=
âˆ’
sin
â¡
(
ğœƒ
)
ğ›¼
+
cos
â¡
(
ğœƒ
)
ğ›½
,
ğ‘…
ğ‘¢
(
ğœƒ
)
ğ‘¢
=
ğ‘¢
.

Note the striking merely apparent differences to the equivalent Lie-algebraic formulation below.

Properties[edit]

For any n-dimensional rotation matrix R acting on 
ğ‘…
ğ‘›
,

ğ‘…
ğ‘‡
=
ğ‘…
âˆ’
1
 (The rotation is an orthogonal matrix)

It follows that:

det
ğ‘…
=
Â±
1

A rotation is termed proper if det R = 1, and improper (or a roto-reflection) if det R = â€“1. For even dimensions n = 2k, the n eigenvalues Î» of a proper rotation occur as pairs of complex conjugates which are roots of unity: Î» = eÂ±iÎ¸j for j = 1, ..., k, which is real only for Î» = Â±1. Therefore, there may be no vectors fixed by the rotation (Î» = 1), and thus no axis of rotation. Any fixed eigenvectors occur in pairs, and the axis of rotation is an even-dimensional subspace.

For odd dimensions n = 2k + 1, a proper rotation R will have an odd number of eigenvalues, with at least one Î» = 1 and the axis of rotation will be an odd dimensional subspace. Proof:

det
(
ğ‘…
âˆ’
ğ¼
)
	
=
det
(
ğ‘…
ğ‘‡
)
det
(
ğ‘…
âˆ’
ğ¼
)
=
det
(
ğ‘…
ğ‘‡
ğ‘…
âˆ’
ğ‘…
ğ‘‡
)
=
det
(
ğ¼
âˆ’
ğ‘…
ğ‘‡
)

	
=
det
(
ğ¼
âˆ’
ğ‘…
)
=
(
âˆ’
1
)
ğ‘›
det
(
ğ‘…
âˆ’
ğ¼
)
=
âˆ’
det
(
ğ‘…
âˆ’
ğ¼
)
.

Here I is the identity matrix, and we use det(RT) = det(R) = 1, as well as (âˆ’1)n = âˆ’1 since n is odd. Therefore, det(R â€“ I) = 0, meaning there is a nonzero vector v with (R â€“ I)v = 0, that is Rv = v, a fixed eigenvector. There may also be pairs of fixed eigenvectors in the even-dimensional subspace orthogonal to v, so the total dimension of fixed eigenvectors is odd.

For example, in 2-space n = 2, a rotation by angle Î¸ has eigenvalues Î» = eiÎ¸ and Î» = eâˆ’iÎ¸, so there is no axis of rotation except when Î¸ = 0, the case of the null rotation. In 3-space n = 3, the axis of a non-null proper rotation is always a unique line, and a rotation around this axis by angle Î¸ has eigenvalues Î» = 1, eiÎ¸, eâˆ’iÎ¸. In 4-space n = 4, the four eigenvalues are of the form eÂ±iÎ¸, eÂ±iÏ†. The null rotation has Î¸ = Ï† = 0. The case of Î¸ = 0, Ï† â‰  0 is called a simple rotation, with two unit eigenvalues forming an axis plane, and a two-dimensional rotation orthogonal to the axis plane. Otherwise, there is no axis plane. The case of Î¸ = Ï† is called an isoclinic rotation, having eigenvalues eÂ±iÎ¸ repeated twice, so every vector is rotated through an angle Î¸.

The trace of a rotation matrix is equal to the sum of its eigenvalues. For n = 2, a rotation by angle Î¸ has trace 2 cos Î¸. For n = 3, a rotation around any axis by angle Î¸ has trace 1 + 2 cos Î¸. For n = 4, and the trace is 2(cos Î¸ + cos Ï†), which becomes 4 cos Î¸ for an isoclinic rotation.

Examples[edit]
The 2 Ã— 2 rotation matrix
ğ‘„
=
[
0
	
1


âˆ’
1
	
0
]
corresponds to a 90Â° planar rotation clockwise about the origin.
The transpose of the 2 Ã— 2 matrix
ğ‘€
=
[
0.936
	
0.352


0.352
	
âˆ’
0.936
]
is its inverse, but since its determinant is âˆ’1, this is not a proper rotation matrix; it is a reflection across the line 11y = 2x.
The 3 Ã— 3 rotation matrix
ğ‘„
=
[
1
	
0
	
0


0
	
3
2
	
1
2


0
	
âˆ’
1
2
	
3
2
]
=
[
1
	
0
	
0


0
	
cos
â¡
30
âˆ˜
	
sin
â¡
30
âˆ˜


0
	
âˆ’
sin
â¡
30
âˆ˜
	
cos
â¡
30
âˆ˜
]
corresponds to a âˆ’30Â° rotation around the x-axis in three-dimensional space.
The 3 Ã— 3 rotation matrix
ğ‘„
=
[
0.36
	
0.48
	
âˆ’
0.80


âˆ’
0.80
	
0.60
	
0.00


0.48
	
0.64
	
0.60
]
corresponds to a rotation of approximately âˆ’74Â° around the axis (âˆ’â 
1
/
2
â ,1,1) in three-dimensional space.
The 3 Ã— 3 permutation matrix
ğ‘ƒ
=
[
0
	
0
	
1


1
	
0
	
0


0
	
1
	
0
]
is a rotation matrix, as is the matrix of any even permutation, and rotates through 120Â° about the axis x = y = z.




	
The 3 Ã— 3 matrix
ğ‘€
=
[
3
	
âˆ’
4
	
1


5
	
3
	
âˆ’
7


âˆ’
9
	
2
	
6
]
has determinant +1, but is not orthogonal (its transpose is not its inverse), so it is not a rotation matrix.
The 4 Ã— 3 matrix
ğ‘€
=
[
0.5
	
âˆ’
0.1
	
0.7


0.1
	
0.5
	
âˆ’
0.5


âˆ’
0.7
	
0.5
	
0.5


âˆ’
0.5
	
âˆ’
0.7
	
âˆ’
0.1
]
is not square, and so cannot be a rotation matrix; yet MTM yields a 3 Ã— 3 identity matrix (the columns are orthonormal).
The 4 Ã— 4 matrix
ğ‘„
=
âˆ’
ğ¼
=
[
âˆ’
1
	
0
	
0
	
0


0
	
âˆ’
1
	
0
	
0


0
	
0
	
âˆ’
1
	
0


0
	
0
	
0
	
âˆ’
1
]
describes an isoclinic rotation in four dimensions, a rotation through equal angles (180Â°) through two orthogonal planes.
The 5 Ã— 5 rotation matrix
ğ‘„
=
[
0
	
âˆ’
1
	
0
	
0
	
0


1
	
0
	
0
	
0
	
0


0
	
0
	
âˆ’
1
	
0
	
0


0
	
0
	
0
	
âˆ’
1
	
0


0
	
0
	
0
	
0
	
1
]
rotates vectors in the plane of the first two coordinate axes 90Â°, rotates vectors in the plane of the next two axes 180Â°, and leaves the last coordinate axis unmoved.

Geometry[edit]

In Euclidean geometry, a rotation is an example of an isometry, a transformation that moves points without changing the distances between them. Rotations are distinguished from other isometries by two additional properties: they leave (at least) one point fixed, and they leave "handedness" unchanged. In contrast, a translation moves every point, a reflection exchanges left- and right-handed ordering, a glide reflection does both, and an improper rotation combines a change in handedness with a normal rotation.

If a fixed point is taken as the origin of a Cartesian coordinate system, then every point can be given coordinates as a displacement from the origin. Thus one may work with the vector space of displacements instead of the points themselves. Now suppose (p1, ..., pn) are the coordinates of the vector p from the origin O to point P. Choose an orthonormal basis for our coordinates; then the squared distance to P, by Pythagoras, is

ğ‘‘
2
(
ğ‘‚
,
ğ‘ƒ
)
=
â€–
ğ‘
â€–
2
=
âˆ‘
ğ‘Ÿ
=
1
ğ‘›
ğ‘
ğ‘Ÿ
2

which can be computed using the matrix multiplication

â€–
ğ‘
â€–
2
=
[
ğ‘
1
â‹¯
ğ‘
ğ‘›
]
[
ğ‘
1


â‹®


ğ‘
ğ‘›
]
=
ğ‘
ğ‘‡
ğ‘
.

A geometric rotation transforms lines to lines, and preserves ratios of distances between points. From these properties it can be shown that a rotation is a linear transformation of the vectors, and thus can be written in matrix form, Qp. The fact that a rotation preserves, not just ratios, but distances themselves, is stated as

ğ‘
ğ‘‡
ğ‘
=
(
ğ‘„
ğ‘
)
ğ‘‡
(
ğ‘„
ğ‘
)
,

or

ğ‘
ğ‘‡
ğ¼
ğ‘
	
=
(
ğ‘
ğ‘‡
ğ‘„
ğ‘‡
)
(
ğ‘„
ğ‘
)

	
=
ğ‘
ğ‘‡
(
ğ‘„
ğ‘‡
ğ‘„
)
ğ‘
.

Because this equation holds for all vectors, p, one concludes that every rotation matrix, Q, satisfies the orthogonality condition,

ğ‘„
ğ‘‡
ğ‘„
=
ğ¼
.

Rotations preserve handedness because they cannot change the ordering of the axes, which implies the special matrix condition,

det
ğ‘„
=
+
1.

Equally important, it can be shown that any matrix satisfying these two conditions acts as a rotation.

Multiplication[edit]

The inverse of a rotation matrix is its transpose, which is also a rotation matrix:

(
ğ‘„
ğ‘‡
)
ğ‘‡
(
ğ‘„
ğ‘‡
)
	
=
ğ‘„
ğ‘„
ğ‘‡
=
ğ¼


det
ğ‘„
ğ‘‡
	
=
det
ğ‘„
=
+
1.

The product of two rotation matrices is a rotation matrix:

(
ğ‘„
1
ğ‘„
2
)
ğ‘‡
(
ğ‘„
1
ğ‘„
2
)
	
=
ğ‘„
2
ğ‘‡
(
ğ‘„
1
ğ‘‡
ğ‘„
1
)
ğ‘„
2
=
ğ¼


det
(
ğ‘„
1
ğ‘„
2
)
	
=
(
det
ğ‘„
1
)
(
det
ğ‘„
2
)
=
+
1.

For n > 2, multiplication of n Ã— n rotation matrices is generally not commutative.

ğ‘„
1
	
=
[
0
	
âˆ’
1
	
0


1
	
0
	
0


0
	
0
	
1
]
	
ğ‘„
2
	
=
[
0
	
0
	
1


0
	
1
	
0


âˆ’
1
	
0
	
0
]


ğ‘„
1
ğ‘„
2
	
=
[
0
	
âˆ’
1
	
0


0
	
0
	
1


âˆ’
1
	
0
	
0
]
	
ğ‘„
2
ğ‘„
1
	
=
[
0
	
0
	
1


1
	
0
	
0


0
	
1
	
0
]
.

Noting that any identity matrix is a rotation matrix, and that matrix multiplication is associative, we may summarize all these properties by saying that the n Ã— n rotation matrices form a group, which for n > 2 is non-abelian, called a special orthogonal group, and denoted by SO(n), SO(n,R), SOn, or SOn(R), the group of n Ã— n rotation matrices is isomorphic to the group of rotations in an n-dimensional space. This means that multiplication of rotation matrices corresponds to composition of rotations, applied in left-to-right order of their corresponding matrices.

Ambiguities[edit]
Alias and alibi rotations

The interpretation of a rotation matrix can be subject to many ambiguities.

In most cases the effect of the ambiguity is equivalent to the effect of a rotation matrix inversion (for these orthogonal matrices equivalently matrix transpose).

Alias or alibi (passive or active) transformation
The coordinates of a point P may change due to either a rotation of the coordinate system CS (alias), or a rotation of the point P (alibi). In the latter case, the rotation of P also produces a rotation of the vector v representing P. In other words, either P and v are fixed while CS rotates (alias), or CS is fixed while P and v rotate (alibi). Any given rotation can be legitimately described both ways, as vectors and coordinate systems actually rotate with respect to each other, about the same axis but in opposite directions. Throughout this article, we chose the alibi approach to describe rotations. For instance,
ğ‘…
(
ğœƒ
)
=
[
cos
â¡
ğœƒ
	
âˆ’
sin
â¡
ğœƒ


sin
â¡
ğœƒ
	
cos
â¡
ğœƒ
]
represents a counterclockwise rotation of a vector v by an angle Î¸, or a rotation of CS by the same angle but in the opposite direction (i.e. clockwise). Alibi and alias transformations are also known as active and passive transformations, respectively.
Pre-multiplication or post-multiplication
The same point P can be represented either by a column vector v or a row vector w. Rotation matrices can either pre-multiply column vectors (Rv), or post-multiply row vectors (wR). However, Rv produces a rotation in the opposite direction with respect to wR. Throughout this article, rotations produced on column vectors are described by means of a pre-multiplication. To obtain exactly the same rotation (i.e. the same final coordinates of point P), the equivalent row vector must be post-multiplied by the transpose of R (i.e. wRT).
Right- or left-handed coordinates
The matrix and the vector can be represented with respect to a right-handed or left-handed coordinate system. Throughout the article, we assumed a right-handed orientation, unless otherwise specified.
Vectors or forms
The vector space has a dual space of linear forms, and the matrix can act on either vectors or forms.
Decompositions[edit]
Independent planes[edit]

Consider the 3 Ã— 3 rotation matrix

ğ‘„
=
[
0.36
	
0.48
	
âˆ’
0.80


âˆ’
0.80
	
0.60
	
0.00


0.48
	
0.64
	
0.60
]
.

If Q acts in a certain direction, v, purely as a scaling by a factor Î», then we have

ğ‘„
ğ‘£
=
ğœ†
ğ‘£
,

so that

0
=
(
ğœ†
ğ¼
âˆ’
ğ‘„
)
ğ‘£
.

Thus Î» is a root of the characteristic polynomial for Q,

0
	
=
det
(
ğœ†
ğ¼
âˆ’
ğ‘„
)

	
=
ğœ†
3
âˆ’
39
25
ğœ†
2
+
39
25
ğœ†
âˆ’
1

	
=
(
ğœ†
âˆ’
1
)
(
ğœ†
2
âˆ’
14
25
ğœ†
+
1
)
.

Two features are noteworthy. First, one of the roots (or eigenvalues) is 1, which tells us that some direction is unaffected by the matrix. For rotations in three dimensions, this is the axis of the rotation (a concept that has no meaning in any other dimension). Second, the other two roots are a pair of complex conjugates, whose product is 1 (the constant term of the quadratic), and whose sum is 2 cos Î¸ (the negated linear term). This factorization is of interest for 3 Ã— 3 rotation matrices because the same thing occurs for all of them. (As special cases, for a null rotation the "complex conjugates" are both 1, and for a 180Â° rotation they are both âˆ’1.) Furthermore, a similar factorization holds for any n Ã— n rotation matrix. If the dimension, n, is odd, there will be a "dangling" eigenvalue of 1; and for any dimension the rest of the polynomial factors into quadratic terms like the one here (with the two special cases noted). We are guaranteed that the characteristic polynomial will have degree n and thus n eigenvalues. And since a rotation matrix commutes with its transpose, it is a normal matrix, so can be diagonalized. We conclude that every rotation matrix, when expressed in a suitable coordinate system, partitions into independent rotations of two-dimensional subspaces, at most â 
n
/
2
â  of them.

The sum of the entries on the main diagonal of a matrix is called the trace; it does not change if we reorient the coordinate system, and always equals the sum of the eigenvalues. This has the convenient implication for 2 Ã— 2 and 3 Ã— 3 rotation matrices that the trace reveals the angle of rotation, Î¸, in the two-dimensional space (or subspace). For a 2 Ã— 2 matrix the trace is 2 cos Î¸, and for a 3 Ã— 3 matrix it is 1 + 2 cos Î¸. In the three-dimensional case, the subspace consists of all vectors perpendicular to the rotation axis (the invariant direction, with eigenvalue 1). Thus we can extract from any 3 Ã— 3 rotation matrix a rotation axis and an angle, and these completely determine the rotation.

Sequential angles[edit]

The constraints on a 2 Ã— 2 rotation matrix imply that it must have the form

ğ‘„
=
[
ğ‘
	
âˆ’
ğ‘


ğ‘
	
ğ‘
]

with a2 + b2 = 1. Therefore, we may set a = cos Î¸ and b = sin Î¸, for some angle Î¸. To solve for Î¸ it is not enough to look at a alone or b alone; we must consider both together to place the angle in the correct quadrant, using a two-argument arctangent function.

Now consider the first column of a 3 Ã— 3 rotation matrix,

[
ğ‘


ğ‘


ğ‘
]
.

Although a2 + b2 will probably not equal 1, but some value r2 < 1, we can use a slight variation of the previous computation to find a so-called Givens rotation that transforms the column to

[
ğ‘Ÿ


0


ğ‘
]
,

zeroing b. This acts on the subspace spanned by the x- and y-axes. We can then repeat the process for the xz-subspace to zero c. Acting on the full matrix, these two rotations produce the schematic form

ğ‘„
ğ‘¥
ğ‘§
ğ‘„
ğ‘¥
ğ‘¦
ğ‘„
=
[
1
	
0
	
0


0
	
âˆ—
	
âˆ—


0
	
âˆ—
	
âˆ—
]
.

Shifting attention to the second column, a Givens rotation of the yz-subspace can now zero the z value. This brings the full matrix to the form

ğ‘„
ğ‘¦
ğ‘§
ğ‘„
ğ‘¥
ğ‘§
ğ‘„
ğ‘¥
ğ‘¦
ğ‘„
=
[
1
	
0
	
0


0
	
1
	
0


0
	
0
	
1
]
,

which is an identity matrix. Thus we have decomposed Q as

ğ‘„
=
ğ‘„
ğ‘¥
ğ‘¦
âˆ’
1
ğ‘„
ğ‘¥
ğ‘§
âˆ’
1
ğ‘„
ğ‘¦
ğ‘§
âˆ’
1
.

An n Ã— n rotation matrix will have (n âˆ’ 1) + (n âˆ’ 2) + â‹¯ + 2 + 1, or

âˆ‘
ğ‘˜
=
1
ğ‘›
âˆ’
1
ğ‘˜
=
1
2
ğ‘›
(
ğ‘›
âˆ’
1
)

entries below the diagonal to zero. We can zero them by extending the same idea of stepping through the columns with a series of rotations in a fixed sequence of planes. We conclude that the set of n Ã— n rotation matrices, each of which has n2 entries, can be parameterized by â 
1
/
2
â n(n âˆ’ 1) angles.

xzxw	xzyw	xyxw	xyzw
yxyw	yxzw	yzyw	yzxw
zyzw	zyxw	zxzw	zxyw
xzxb	yzxb	xyxb	zyxb
yxyb	zxyb	yzyb	xzyb
zyzb	xyzb	zxzb	yxzb

In three dimensions this restates in matrix form an observation made by Euler, so mathematicians call the ordered sequence of three angles Euler angles. However, the situation is somewhat more complicated than we have so far indicated. Despite the small dimension, we actually have considerable freedom in the sequence of axis pairs we use; and we also have some freedom in the choice of angles. Thus we find many different conventions employed when three-dimensional rotations are parameterized for physics, or medicine, or chemistry, or other disciplines. When we include the option of world axes or body axes, 24 different sequences are possible. And while some disciplines call any sequence Euler angles, others give different names (Cardano, Taitâ€“Bryan, roll-pitch-yaw) to different sequences.

One reason for the large number of options is that, as noted previously, rotations in three dimensions (and higher) do not commute. If we reverse a given sequence of rotations, we get a different outcome. This also implies that we cannot compose two rotations by adding their corresponding angles. Thus Euler angles are not vectors, despite a similarity in appearance as a triplet of numbers.

Nested dimensions[edit]

A 3 Ã— 3 rotation matrix such as

ğ‘„
3
Ã—
3
=
[
cos
â¡
ğœƒ
	
âˆ’
sin
â¡
ğœƒ
	
0


sin
â¡
ğœƒ
	
cos
â¡
ğœƒ
	
0


0
	
0
	
1
]

suggests a 2 Ã— 2 rotation matrix,

ğ‘„
2
Ã—
2
=
[
cos
â¡
ğœƒ
	
âˆ’
sin
â¡
ğœƒ


sin
â¡
ğœƒ
	
cos
â¡
ğœƒ
]
,

is embedded in the upper left corner:

ğ‘„
3
Ã—
3
=
[
ğ‘„
2
Ã—
2
	
0


0
ğ‘‡
	
1
]
.

This is no illusion; not just one, but many, copies of n-dimensional rotations are found within (n + 1)-dimensional rotations, as subgroups. Each embedding leaves one direction fixed, which in the case of 3 Ã— 3 matrices is the rotation axis. For example, we have

ğ‘„
ğ‘¥
(
ğœƒ
)
	
=
[
1
	
0
	
0


0
	
cos
â¡
ğœƒ
	
âˆ’
sin
â¡
ğœƒ


0
	
sin
â¡
ğœƒ
	
cos
â¡
ğœƒ
]
,


ğ‘„
ğ‘¦
(
ğœƒ
)
	
=
[
cos
â¡
ğœƒ
	
0
	
sin
â¡
ğœƒ


0
	
1
	
0


âˆ’
sin
â¡
ğœƒ
	
0
	
cos
â¡
ğœƒ
]
,


ğ‘„
ğ‘§
(
ğœƒ
)
	
=
[
cos
â¡
ğœƒ
	
âˆ’
sin
â¡
ğœƒ
	
0


sin
â¡
ğœƒ
	
cos
â¡
ğœƒ
	
0


0
	
0
	
1
]
,

fixing the x-axis, the y-axis, and the z-axis, respectively. The rotation axis need not be a coordinate axis; if u = (x,y,z) is a unit vector in the desired direction, then

ğ‘„
ğ‘¢
(
ğœƒ
)
	
=
[
0
	
âˆ’
ğ‘§
	
ğ‘¦


ğ‘§
	
0
	
âˆ’
ğ‘¥


âˆ’
ğ‘¦
	
ğ‘¥
	
0
]
sin
â¡
ğœƒ
+
(
ğ¼
âˆ’
ğ‘¢
ğ‘¢
ğ‘‡
)
cos
â¡
ğœƒ
+
ğ‘¢
ğ‘¢
ğ‘‡

	
=
[
(
1
âˆ’
ğ‘¥
2
)
ğ‘
ğœƒ
+
ğ‘¥
2
	
âˆ’
ğ‘§
ğ‘ 
ğœƒ
âˆ’
ğ‘¥
ğ‘¦
ğ‘
ğœƒ
+
ğ‘¥
ğ‘¦
	
ğ‘¦
ğ‘ 
ğœƒ
âˆ’
ğ‘¥
ğ‘§
ğ‘
ğœƒ
+
ğ‘¥
ğ‘§


ğ‘§
ğ‘ 
ğœƒ
âˆ’
ğ‘¥
ğ‘¦
ğ‘
ğœƒ
+
ğ‘¥
ğ‘¦
	
(
1
âˆ’
ğ‘¦
2
)
ğ‘
ğœƒ
+
ğ‘¦
2
	
âˆ’
ğ‘¥
ğ‘ 
ğœƒ
âˆ’
ğ‘¦
ğ‘§
ğ‘
ğœƒ
+
ğ‘¦
ğ‘§


âˆ’
ğ‘¦
ğ‘ 
ğœƒ
âˆ’
ğ‘¥
ğ‘§
ğ‘
ğœƒ
+
ğ‘¥
ğ‘§
	
ğ‘¥
ğ‘ 
ğœƒ
âˆ’
ğ‘¦
ğ‘§
ğ‘
ğœƒ
+
ğ‘¦
ğ‘§
	
(
1
âˆ’
ğ‘§
2
)
ğ‘
ğœƒ
+
ğ‘§
2
]

	
=
[
ğ‘¥
2
(
1
âˆ’
ğ‘
ğœƒ
)
+
ğ‘
ğœƒ
	
ğ‘¥
ğ‘¦
(
1
âˆ’
ğ‘
ğœƒ
)
âˆ’
ğ‘§
ğ‘ 
ğœƒ
	
ğ‘¥
ğ‘§
(
1
âˆ’
ğ‘
ğœƒ
)
+
ğ‘¦
ğ‘ 
ğœƒ


ğ‘¥
ğ‘¦
(
1
âˆ’
ğ‘
ğœƒ
)
+
ğ‘§
ğ‘ 
ğœƒ
	
ğ‘¦
2
(
1
âˆ’
ğ‘
ğœƒ
)
+
ğ‘
ğœƒ
	
ğ‘¦
ğ‘§
(
1
âˆ’
ğ‘
ğœƒ
)
âˆ’
ğ‘¥
ğ‘ 
ğœƒ


ğ‘¥
ğ‘§
(
1
âˆ’
ğ‘
ğœƒ
)
âˆ’
ğ‘¦
ğ‘ 
ğœƒ
	
ğ‘¦
ğ‘§
(
1
âˆ’
ğ‘
ğœƒ
)
+
ğ‘¥
ğ‘ 
ğœƒ
	
ğ‘§
2
(
1
âˆ’
ğ‘
ğœƒ
)
+
ğ‘
ğœƒ
]
,

where cÎ¸ = cos Î¸, sÎ¸ = sin Î¸, is a rotation by angle Î¸ leaving axis u fixed.

A direction in (n + 1)-dimensional space will be a unit magnitude vector, which we may consider a point on a generalized sphere, Sn. Thus it is natural to describe the rotation group SO(n + 1) as combining SO(n) and Sn. A suitable formalism is the fiber bundle,

ğ‘†
ğ‘‚
(
ğ‘›
)
â†ª
ğ‘†
ğ‘‚
(
ğ‘›
+
1
)
â†’
ğ‘†
ğ‘›
,

where for every direction in the base space, Sn, the fiber over it in the total space, SO(n + 1), is a copy of the fiber space, SO(n), namely the rotations that keep that direction fixed.

Thus we can build an n Ã— n rotation matrix by starting with a 2 Ã— 2 matrix, aiming its fixed axis on S2 (the ordinary sphere in three-dimensional space), aiming the resulting rotation on S3, and so on up through Snâˆ’1. A point on Sn can be selected using n numbers, so we again have â 
1
/
2
â n(n âˆ’ 1) numbers to describe any n Ã— n rotation matrix.

In fact, we can view the sequential angle decomposition, discussed previously, as reversing this process. The composition of n âˆ’ 1 Givens rotations brings the first column (and row) to (1, 0, ..., 0), so that the remainder of the matrix is a rotation matrix of dimension one less, embedded so as to leave (1, 0, ..., 0) fixed.

Skew parameters via Cayley's formula[edit]
Main articles: Cayley transform and Skew-symmetric matrix

When an n Ã— n rotation matrix Q, does not include a âˆ’1 eigenvalue, thus none of the planar rotations which it comprises are 180Â° rotations, then Q + I is an invertible matrix. Most rotation matrices fit this description, and for them it can be shown that (Q âˆ’ I)(Q + I)âˆ’1 is a skew-symmetric matrix, A. Thus AT = âˆ’A; and since the diagonal is necessarily zero, and since the upper triangle determines the lower one, A contains â 
1
/
2
â n(n âˆ’ 1) independent numbers.

Conveniently, I âˆ’ A is invertible whenever A is skew-symmetric; thus we can recover the original matrix using the Cayley transform,

ğ´
â†¦
(
ğ¼
+
ğ´
)
(
ğ¼
âˆ’
ğ´
)
âˆ’
1
,

which maps any skew-symmetric matrix A to a rotation matrix. In fact, aside from the noted exceptions, we can produce any rotation matrix in this way. Although in practical applications we can hardly afford to ignore 180Â° rotations, the Cayley transform is still a potentially useful tool, giving a parameterization of most rotation matrices without trigonometric functions.

In three dimensions, for example, we have (Cayley 1846)

	
[
0
	
âˆ’
ğ‘§
	
ğ‘¦


ğ‘§
	
0
	
âˆ’
ğ‘¥


âˆ’
ğ‘¦
	
ğ‘¥
	
0
]
â†¦


1
1
+
ğ‘¥
2
+
ğ‘¦
2
+
ğ‘§
2
	
[
1
+
ğ‘¥
2
âˆ’
ğ‘¦
2
âˆ’
ğ‘§
2
	
2
ğ‘¥
ğ‘¦
âˆ’
2
ğ‘§
	
2
ğ‘¦
+
2
ğ‘¥
ğ‘§


2
ğ‘¥
ğ‘¦
+
2
ğ‘§
	
1
âˆ’
ğ‘¥
2
+
ğ‘¦
2
âˆ’
ğ‘§
2
	
2
ğ‘¦
ğ‘§
âˆ’
2
ğ‘¥


2
ğ‘¥
ğ‘§
âˆ’
2
ğ‘¦
	
2
ğ‘¥
+
2
ğ‘¦
ğ‘§
	
1
âˆ’
ğ‘¥
2
âˆ’
ğ‘¦
2
+
ğ‘§
2
]
.

If we condense the skew entries into a vector, (x,y,z), then we produce a 90Â° rotation around the x-axis for (1, 0, 0), around the y-axis for (0, 1, 0), and around the z-axis for (0, 0, 1). The 180Â° rotations are just out of reach; for, in the limit as x â†’ âˆ, (x, 0, 0) does approach a 180Â° rotation around the x axis, and similarly for other directions.

Decomposition into shears[edit]

For the 2D case, a rotation matrix can be decomposed into three shear matrices (Paeth 1986):

ğ‘…
(
ğœƒ
)
	
=
[
1
	
âˆ’
tan
â¡
ğœƒ
2


0
	
1
]
[
1
	
0


sin
â¡
ğœƒ
	
1
]
[
1
	
âˆ’
tan
â¡
ğœƒ
2


0
	
1
]

This is useful, for instance, in computer graphics, since shears can be implemented with fewer multiplication instructions than rotating a bitmap directly. On modern computers, this may not matter, but it can be relevant for very old or low-end microprocessors.

A rotation can also be written as two shears and a squeeze mapping (an area preserving scaling) (Daubechies & Sweldens 1998):

ğ‘…
(
ğœƒ
)
	
=
[
1
	
0


tan
â¡
ğœƒ
	
1
]
[
1
	
âˆ’
sin
â¡
ğœƒ
cos
â¡
ğœƒ


0
	
1
]
[
cos
â¡
ğœƒ
	
0


0
	
1
cos
â¡
ğœƒ
]
Group theory[edit]

Below follow some basic facts about the role of the collection of all rotation matrices of a fixed dimension (here mostly 3) in mathematics and particularly in physics where rotational symmetry is a requirement of every truly fundamental law (due to the assumption of isotropy of space), and where the same symmetry, when present, is a simplifying property of many problems of less fundamental nature. Examples abound in classical mechanics and quantum mechanics. Knowledge of the part of the solutions pertaining to this symmetry applies (with qualifications) to all such problems and it can be factored out of a specific problem at hand, thus reducing its complexity. A prime example â€“ in mathematics and physics â€“ would be the theory of spherical harmonics. Their role in the group theory of the rotation groups is that of being a representation space for the entire set of finite-dimensional irreducible representations of the rotation group SO(3). For this topic, see Rotation group SO(3) Â§ Spherical harmonics.

The main articles listed in each subsection are referred to for more detail.

Lie group[edit]
Main articles: Special orthogonal group and Rotation group SO(3)

The n Ã— n rotation matrices for each n form a group, the special orthogonal group, SO(n). This algebraic structure is coupled with a topological structure inherited from 
GL
ğ‘›
â¡
(
ğ‘…
)
 in such a way that the operations of multiplication and taking the inverse are analytic functions of the matrix entries. Thus SO(n) is for each n a Lie group. It is compact and connected, but not simply connected. It is also a semi-simple group, in fact a simple group with the exception SO(4).[14] The relevance of this is that all theorems and all machinery from the theory of analytic manifolds (analytic manifolds are in particular smooth manifolds) apply and the well-developed representation theory of compact semi-simple groups is ready for use.

Lie algebra[edit]
Main article: Rotation group SO(3) Â§Â Lie algebra

The Lie algebra so(n) of SO(n) is given by

ğ‘ 
ğ‘œ
(
ğ‘›
)
=
ğ‘œ
(
ğ‘›
)
=
{
ğ‘‹
âˆˆ
ğ‘€
ğ‘›
(
ğ‘…
)
âˆ£
ğ‘‹
=
âˆ’
ğ‘‹
ğ‘‡
}
,

and is the space of skew-symmetric matrices of dimension n, see classical group, where o(n) is the Lie algebra of O(n), the orthogonal group. For reference, the most common basis for so(3) is

ğ¿
ğ‘¥
=
[
0
	
0
	
0


0
	
0
	
âˆ’
1


0
	
1
	
0
]
,
ğ¿
ğ‘¦
=
[
0
	
0
	
1


0
	
0
	
0


âˆ’
1
	
0
	
0
]
,
ğ¿
ğ‘§
=
[
0
	
âˆ’
1
	
0


1
	
0
	
0


0
	
0
	
0
]
.
Exponential map[edit]
Main articles: Rotation group SO(3) Â§Â Exponential map, and Matrix exponential

Connecting the Lie algebra to the Lie group is the exponential map, which is defined using the standard matrix exponential series for eA[15] For any skew-symmetric matrix A, exp(A) is always a rotation matrix.[nb 3]

An important practical example is the 3 Ã— 3 case. In rotation group SO(3), it is shown that one can identify every A âˆˆ so(3) with an Euler vector Ï‰ = Î¸u, where u = (x, y, z) is a unit magnitude vector.

By the properties of the identification 
ğ‘ 
ğ‘¢
(
2
)
â‰…
ğ‘…
3
, u is in the null space of A. Thus, u is left invariant by exp(A) and is hence a rotation axis.

According to Rodrigues' rotation formula on matrix form, one obtains,

exp
â¡
(
ğ´
)
	
=
exp
â¡
(
ğœƒ
(
ğ‘¢
â‹…
ğ¿
)
)

	
=
exp
â¡
(
[
0
	
âˆ’
ğ‘§
ğœƒ
	
ğ‘¦
ğœƒ


ğ‘§
ğœƒ
	
0
	
âˆ’
ğ‘¥
ğœƒ


âˆ’
ğ‘¦
ğœƒ
	
ğ‘¥
ğœƒ
	
0
]
)

	
=
ğ¼
+
sin
â¡
ğœƒ
Â 
ğ‘¢
â‹…
ğ¿
+
(
1
âˆ’
cos
â¡
ğœƒ
)
(
ğ‘¢
â‹…
ğ¿
)
2
,

where

ğ‘¢
â‹…
ğ¿
=
[
0
	
âˆ’
ğ‘§
	
ğ‘¦


ğ‘§
	
0
	
âˆ’
ğ‘¥


âˆ’
ğ‘¦
	
ğ‘¥
	
0
]
.

This is the matrix for a rotation around axis u by the angle Î¸. For full detail, see exponential map SO(3).

Bakerâ€“Campbellâ€“Hausdorff formula[edit]
Main articles: Bakerâ€“Campbellâ€“Hausdorff formula and Rotation group SO(3) Â§Â Bakerâ€“Campbellâ€“Hausdorff formula

The BCH formula provides an explicit expression for Z = log(eXeY) in terms of a series expansion of nested commutators of X and Y.[16] This general expansion unfolds as[nb 4]

ğ‘
=
ğ¶
(
ğ‘‹
,
ğ‘Œ
)
=
ğ‘‹
+
ğ‘Œ
+
1
2
[
ğ‘‹
,
ğ‘Œ
]
+
1
12
[
ğ‘‹
,
[
ğ‘‹
,
ğ‘Œ
]
]
âˆ’
1
12
[
ğ‘Œ
,
[
ğ‘‹
,
ğ‘Œ
]
]
+
â‹¯
.

In the 3 Ã— 3 case, the general infinite expansion has a compact form,[17]

ğ‘
=
ğ›¼
ğ‘‹
+
ğ›½
ğ‘Œ
+
ğ›¾
[
ğ‘‹
,
ğ‘Œ
]
,

for suitable trigonometric function coefficients, detailed in the Bakerâ€“Campbellâ€“Hausdorff formula for SO(3).

As a group identity, the above holds for all faithful representations, including the doublet (spinor representation), which is simpler. The same explicit formula thus follows straightforwardly through Pauli matrices; see the 2 Ã— 2 derivation for SU(2). For the general n Ã— n case, one might use Ref.[18]

Spin group[edit]
Main articles: Spin group and Rotation group SO(3) Â§Â Connection between SO(3) and SU(2)

The Lie group of n Ã— n rotation matrices, SO(n), is not simply connected, so Lie theory tells us it is a homomorphic image of a universal covering group. Often the covering group, which in this case is called the spin group denoted by Spin(n), is simpler and more natural to work with.[19]

In the case of planar rotations, SO(2) is topologically a circle, S1. Its universal covering group, Spin(2), is isomorphic to the real line, R, under addition. Whenever angles of arbitrary magnitude are used one is taking advantage of the convenience of the universal cover. Every 2 Ã— 2 rotation matrix is produced by a countable infinity of angles, separated by integer multiples of 2Ï€. Correspondingly, the fundamental group of SO(2) is isomorphic to the integers, Z.

In the case of spatial rotations, SO(3) is topologically equivalent to three-dimensional real projective space, RP3. Its universal covering group, Spin(3), is isomorphic to the 3-sphere, S3. Every 3 Ã— 3 rotation matrix is produced by two opposite points on the sphere. Correspondingly, the fundamental group of SO(3) is isomorphic to the two-element group, Z2.

We can also describe Spin(3) as isomorphic to quaternions of unit norm under multiplication, or to certain 4 Ã— 4 real matrices, or to 2 Ã— 2 complex special unitary matrices, namely SU(2). The covering maps for the first and the last case are given by

ğ»
âŠƒ
{
ğ‘
âˆˆ
ğ»
:
â€–
ğ‘
â€–
=
1
}
âˆ‹
ğ‘¤
+
ğ‘–
ğ‘¥
+
ğ‘—
ğ‘¦
+
ğ‘˜
ğ‘§
â†¦
[
1
âˆ’
2
ğ‘¦
2
âˆ’
2
ğ‘§
2
	
2
ğ‘¥
ğ‘¦
âˆ’
2
ğ‘§
ğ‘¤
	
2
ğ‘¥
ğ‘§
+
2
ğ‘¦
ğ‘¤


2
ğ‘¥
ğ‘¦
+
2
ğ‘§
ğ‘¤
	
1
âˆ’
2
ğ‘¥
2
âˆ’
2
ğ‘§
2
	
2
ğ‘¦
ğ‘§
âˆ’
2
ğ‘¥
ğ‘¤


2
ğ‘¥
ğ‘§
âˆ’
2
ğ‘¦
ğ‘¤
	
2
ğ‘¦
ğ‘§
+
2
ğ‘¥
ğ‘¤
	
1
âˆ’
2
ğ‘¥
2
âˆ’
2
ğ‘¦
2
]
âˆˆ
S
O
(
3
)
,

and

S
U
(
2
)
âˆ‹
[
ğ›¼
	
ğ›½


âˆ’
ğ›½
Â¯
	
ğ›¼
Â¯
]
â†¦
[
1
2
(
ğ›¼
2
âˆ’
ğ›½
2
+
ğ›¼
2
Â¯
âˆ’
ğ›½
2
Â¯
)
	
ğ‘–
2
(
âˆ’
ğ›¼
2
âˆ’
ğ›½
2
+
ğ›¼
2
Â¯
+
ğ›½
2
Â¯
)
	
âˆ’
ğ›¼
ğ›½
âˆ’
ğ›¼
Â¯
ğ›½
Â¯


ğ‘–
2
(
ğ›¼
2
âˆ’
ğ›½
2
âˆ’
ğ›¼
2
Â¯
+
ğ›½
2
Â¯
)
	
ğ‘–
2
(
ğ›¼
2
+
ğ›½
2
+
ğ›¼
2
Â¯
+
ğ›½
2
Â¯
)
	
âˆ’
ğ‘–
(
+
ğ›¼
ğ›½
âˆ’
ğ›¼
Â¯
ğ›½
Â¯
)


ğ›¼
ğ›½
Â¯
+
ğ›¼
Â¯
ğ›½
	
ğ‘–
(
âˆ’
ğ›¼
ğ›½
Â¯
+
ğ›¼
Â¯
ğ›½
)
	
ğ›¼
ğ›¼
Â¯
âˆ’
ğ›½
ğ›½
Â¯
]
âˆˆ
S
O
(
3
)
.

For a detailed account of the SU(2)-covering and the quaternionic covering, see spin group SO(3).

Many features of these cases are the same for higher dimensions. The coverings are all two-to-one, with SO(n), n > 2, having fundamental group Z2. The natural setting for these groups is within a Clifford algebra. One type of action of the rotations is produced by a kind of "sandwich", denoted by qvqâˆ—. More importantly in applications to physics, the corresponding spin representation of the Lie algebra sits inside the Clifford algebra. It can be exponentiated in the usual way to give rise to a 2-valued representation, also known as projective representation of the rotation group. This is the case with SO(3) and SU(2), where the 2-valued representation can be viewed as an "inverse" of the covering map. By properties of covering maps, the inverse can be chosen ono-to-one as a local section, but not globally.

Infinitesimal rotations[edit]
Main article: Infinitesimal rotation matrix

The matrices in the Lie algebra are not themselves rotations; the skew-symmetric matrices are derivatives, proportional differences of rotations. An actual "differential rotation", or infinitesimal rotation matrix has the form

ğ¼
+
ğ´
ğ‘‘
ğœƒ
,

where dÎ¸ is vanishingly small and A âˆˆ so(n), for instance with A = Lx,

ğ‘‘
ğ¿
ğ‘¥
=
[
1
	
0
	
0


0
	
1
	
âˆ’
ğ‘‘
ğœƒ


0
	
ğ‘‘
ğœƒ
	
1
]
.

The computation rules are as usual except that infinitesimals of second order are routinely dropped. With these rules, these matrices do not satisfy all the same properties as ordinary finite rotation matrices under the usual treatment of infinitesimals.[20] It turns out that the order in which infinitesimal rotations are applied is irrelevant. To see this exemplified, consult infinitesimal rotations SO(3).

Conversions[edit]
See also: Rotation formalisms in three dimensions Â§Â Conversion formulae between formalisms

We have seen the existence of several decompositions that apply in any dimension, namely independent planes, sequential angles, and nested dimensions. In all these cases we can either decompose a matrix or construct one. We have also given special attention to 3 Ã— 3 rotation matrices, and these warrant further attention, in both directions (Stuelpnagel 1964).

Quaternion[edit]
Main article: Quaternions and spatial rotation

Given the unit quaternion q = w + xi + yj + zk, the equivalent pre-multiplied (to be used with column vectors) 3 Ã— 3 rotation matrix is [21]

ğ‘„
=
[
1
âˆ’
2
ğ‘¦
2
âˆ’
2
ğ‘§
2
	
2
ğ‘¥
ğ‘¦
âˆ’
2
ğ‘§
ğ‘¤
	
2
ğ‘¥
ğ‘§
+
2
ğ‘¦
ğ‘¤


2
ğ‘¥
ğ‘¦
+
2
ğ‘§
ğ‘¤
	
1
âˆ’
2
ğ‘¥
2
âˆ’
2
ğ‘§
2
	
2
ğ‘¦
ğ‘§
âˆ’
2
ğ‘¥
ğ‘¤


2
ğ‘¥
ğ‘§
âˆ’
2
ğ‘¦
ğ‘¤
	
2
ğ‘¦
ğ‘§
+
2
ğ‘¥
ğ‘¤
	
1
âˆ’
2
ğ‘¥
2
âˆ’
2
ğ‘¦
2
]
.

Now every quaternion component appears multiplied by two in a term of degree two, and if all such terms are zero what is left is an identity matrix. This leads to an efficient, robust conversion from any quaternion â€“ whether unit or non-unit â€“ to a 3 Ã— 3 rotation matrix. Given:

ğ‘›
	
=
ğ‘¤
Ã—
ğ‘¤
+
ğ‘¥
Ã—
ğ‘¥
+
ğ‘¦
Ã—
ğ‘¦
+
ğ‘§
Ã—
ğ‘§


ğ‘ 
	
=
{
0
	
ifÂ 
ğ‘›
=
0


2
ğ‘›
	
otherwise

we can calculate

ğ‘„
=
[
1
âˆ’
ğ‘ 
(
ğ‘¦
ğ‘¦
+
ğ‘§
ğ‘§
)
	
ğ‘ 
(
ğ‘¥
ğ‘¦
âˆ’
ğ‘¤
ğ‘§
)
	
ğ‘ 
(
ğ‘¥
ğ‘§
+
ğ‘¤
ğ‘¦
)


ğ‘ 
(
ğ‘¥
ğ‘¦
+
ğ‘¤
ğ‘§
)
	
1
âˆ’
ğ‘ 
(
ğ‘¥
ğ‘¥
+
ğ‘§
ğ‘§
)
	
ğ‘ 
(
ğ‘¦
ğ‘§
âˆ’
ğ‘¤
ğ‘¥
)


ğ‘ 
(
ğ‘¥
ğ‘§
âˆ’
ğ‘¤
ğ‘¦
)
	
ğ‘ 
(
ğ‘¦
ğ‘§
+
ğ‘¤
ğ‘¥
)
	
1
âˆ’
ğ‘ 
(
ğ‘¥
ğ‘¥
+
ğ‘¦
ğ‘¦
)
]

Freed from the demand for a unit quaternion, we find that nonzero quaternions act as homogeneous coordinates for 3 Ã— 3 rotation matrices. The Cayley transform, discussed earlier, is obtained by scaling the quaternion so that its w component is 1. For a 180Â° rotation around any axis, w will be zero, which explains the Cayley limitation.

The sum of the entries along the main diagonal (the trace), plus one, equals 4 âˆ’ 4(x2 + y2 + z2), which is 4w2. Thus we can write the trace itself as 2w2 + 2w2 âˆ’ 1; and from the previous version of the matrix we see that the diagonal entries themselves have the same form: 2x2 + 2w2 âˆ’ 1, 2y2 + 2w2 âˆ’ 1, and 2z2 + 2w2 âˆ’ 1. So we can easily compare the magnitudes of all four quaternion components using the matrix diagonal. We can, in fact, obtain all four magnitudes using sums and square roots, and choose consistent signs using the skew-symmetric part of the off-diagonal entries:

ğ‘¡
	
=
tr
â¡
ğ‘„
=
ğ‘„
ğ‘¥
ğ‘¥
+
ğ‘„
ğ‘¦
ğ‘¦
+
ğ‘„
ğ‘§
ğ‘§
(
the trace ofÂ 
ğ‘„
)


ğ‘Ÿ
	
=
1
+
ğ‘¡


ğ‘¤
	
=
1
2
ğ‘Ÿ


ğ‘¥
	
=
sgn
â¡
(
ğ‘„
ğ‘§
ğ‘¦
âˆ’
ğ‘„
ğ‘¦
ğ‘§
)
|
1
2
1
+
ğ‘„
ğ‘¥
ğ‘¥
âˆ’
ğ‘„
ğ‘¦
ğ‘¦
âˆ’
ğ‘„
ğ‘§
ğ‘§
|


ğ‘¦
	
=
sgn
â¡
(
ğ‘„
ğ‘¥
ğ‘§
âˆ’
ğ‘„
ğ‘§
ğ‘¥
)
|
1
2
1
âˆ’
ğ‘„
ğ‘¥
ğ‘¥
+
ğ‘„
ğ‘¦
ğ‘¦
âˆ’
ğ‘„
ğ‘§
ğ‘§
|


ğ‘§
	
=
sgn
â¡
(
ğ‘„
ğ‘¦
ğ‘¥
âˆ’
ğ‘„
ğ‘¥
ğ‘¦
)
|
1
2
1
âˆ’
ğ‘„
ğ‘¥
ğ‘¥
âˆ’
ğ‘„
ğ‘¦
ğ‘¦
+
ğ‘„
ğ‘§
ğ‘§
|

Alternatively, use a single square root and division

ğ‘¡
	
=
tr
â¡
ğ‘„
=
ğ‘„
ğ‘¥
ğ‘¥
+
ğ‘„
ğ‘¦
ğ‘¦
+
ğ‘„
ğ‘§
ğ‘§


ğ‘Ÿ
	
=
1
+
ğ‘¡


ğ‘ 
	
=
1
2
ğ‘Ÿ


ğ‘¤
	
=
1
2
ğ‘Ÿ


ğ‘¥
	
=
(
ğ‘„
ğ‘§
ğ‘¦
âˆ’
ğ‘„
ğ‘¦
ğ‘§
)
ğ‘ 


ğ‘¦
	
=
(
ğ‘„
ğ‘¥
ğ‘§
âˆ’
ğ‘„
ğ‘§
ğ‘¥
)
ğ‘ 


ğ‘§
	
=
(
ğ‘„
ğ‘¦
ğ‘¥
âˆ’
ğ‘„
ğ‘¥
ğ‘¦
)
ğ‘ 

This is numerically stable so long as the trace, t, is not negative; otherwise, we risk dividing by (nearly) zero. In that case, suppose Qxx is the largest diagonal entry, so x will have the largest magnitude (the other cases are derived by cyclic permutation); then the following is safe.

ğ‘Ÿ
	
=
1
+
ğ‘„
ğ‘¥
ğ‘¥
âˆ’
ğ‘„
ğ‘¦
ğ‘¦
âˆ’
ğ‘„
ğ‘§
ğ‘§


ğ‘ 
	
=
1
2
ğ‘Ÿ


ğ‘¤
	
=
(
ğ‘„
ğ‘§
ğ‘¦
âˆ’
ğ‘„
ğ‘¦
ğ‘§
)
ğ‘ 


ğ‘¥
	
=
1
2
ğ‘Ÿ


ğ‘¦
	
=
(
ğ‘„
ğ‘¥
ğ‘¦
+
ğ‘„
ğ‘¦
ğ‘¥
)
ğ‘ 


ğ‘§
	
=
(
ğ‘„
ğ‘§
ğ‘¥
+
ğ‘„
ğ‘¥
ğ‘§
)
ğ‘ 

If the matrix contains significant error, such as accumulated numerical error, we may construct a symmetric 4 Ã— 4 matrix,

ğ¾
=
1
3
[
ğ‘„
ğ‘¥
ğ‘¥
âˆ’
ğ‘„
ğ‘¦
ğ‘¦
âˆ’
ğ‘„
ğ‘§
ğ‘§
	
ğ‘„
ğ‘¦
ğ‘¥
+
ğ‘„
ğ‘¥
ğ‘¦
	
ğ‘„
ğ‘§
ğ‘¥
+
ğ‘„
ğ‘¥
ğ‘§
	
ğ‘„
ğ‘§
ğ‘¦
âˆ’
ğ‘„
ğ‘¦
ğ‘§


ğ‘„
ğ‘¦
ğ‘¥
+
ğ‘„
ğ‘¥
ğ‘¦
	
ğ‘„
ğ‘¦
ğ‘¦
âˆ’
ğ‘„
ğ‘¥
ğ‘¥
âˆ’
ğ‘„
ğ‘§
ğ‘§
	
ğ‘„
ğ‘§
ğ‘¦
+
ğ‘„
ğ‘¦
ğ‘§
	
ğ‘„
ğ‘¥
ğ‘§
âˆ’
ğ‘„
ğ‘§
ğ‘¥


ğ‘„
ğ‘§
ğ‘¥
+
ğ‘„
ğ‘¥
ğ‘§
	
ğ‘„
ğ‘§
ğ‘¦
+
ğ‘„
ğ‘¦
ğ‘§
	
ğ‘„
ğ‘§
ğ‘§
âˆ’
ğ‘„
ğ‘¥
ğ‘¥
âˆ’
ğ‘„
ğ‘¦
ğ‘¦
	
ğ‘„
ğ‘¦
ğ‘¥
âˆ’
ğ‘„
ğ‘¥
ğ‘¦


ğ‘„
ğ‘§
ğ‘¦
âˆ’
ğ‘„
ğ‘¦
ğ‘§
	
ğ‘„
ğ‘¥
ğ‘§
âˆ’
ğ‘„
ğ‘§
ğ‘¥
	
ğ‘„
ğ‘¦
ğ‘¥
âˆ’
ğ‘„
ğ‘¥
ğ‘¦
	
ğ‘„
ğ‘¥
ğ‘¥
+
ğ‘„
ğ‘¦
ğ‘¦
+
ğ‘„
ğ‘§
ğ‘§
]
,

and find the eigenvector, (x, y, z, w), of its largest magnitude eigenvalue. (If Q is truly a rotation matrix, that value will be 1.) The quaternion so obtained will correspond to the rotation matrix closest to the given matrix (Bar-Itzhack 2000) (Note: formulation of the cited article is post-multiplied, works with row vectors).

Polar decomposition[edit]

If the n Ã— n matrix M is nonsingular, its columns are linearly independent vectors; thus the Gramâ€“Schmidt process can adjust them to be an orthonormal basis. Stated in terms of numerical linear algebra, we convert M to an orthogonal matrix, Q, using QR decomposition. However, we often prefer a Q closest to M, which this method does not accomplish. For that, the tool we want is the polar decomposition (Fan & Hoffman 1955; Higham 1989).

To measure closeness, we may use any matrix norm invariant under orthogonal transformations. A convenient choice is the Frobenius norm, â€–Q âˆ’ Mâ€–F, squared, which is the sum of the squares of the element differences. Writing this in terms of the trace, Tr, our goal is,

Find Q minimizing Tr( (Q âˆ’ M)T(Q âˆ’ M) ), subject to QTQ = I.

Though written in matrix terms, the objective function is just a quadratic polynomial. We can minimize it in the usual way, by finding where its derivative is zero. For a 3 Ã— 3 matrix, the orthogonality constraint implies six scalar equalities that the entries of Q must satisfy. To incorporate the constraint(s), we may employ a standard technique, Lagrange multipliers, assembled as a symmetric matrix, Y. Thus our method is:

Differentiate Tr( (Q âˆ’ M)T(Q âˆ’ M) + (QTQ âˆ’ I)Y ) with respect to (the entries of) Q, and equate to zero.

Consider a 2 Ã— 2 example. Including constraints, we seek to minimize

	
(
ğ‘„
ğ‘¥
ğ‘¥
âˆ’
ğ‘€
ğ‘¥
ğ‘¥
)
2
+
(
ğ‘„
ğ‘¥
ğ‘¦
âˆ’
ğ‘€
ğ‘¥
ğ‘¦
)
2
+
(
ğ‘„
ğ‘¦
ğ‘¥
âˆ’
ğ‘€
ğ‘¦
ğ‘¥
)
2
+
(
ğ‘„
ğ‘¦
ğ‘¦
âˆ’
ğ‘€
ğ‘¦
ğ‘¦
)
2

	
+
(
ğ‘„
ğ‘¥
ğ‘¥
2
+
ğ‘„
ğ‘¦
ğ‘¥
2
âˆ’
1
)
ğ‘Œ
ğ‘¥
ğ‘¥
+
(
ğ‘„
ğ‘¥
ğ‘¦
2
+
ğ‘„
ğ‘¦
ğ‘¦
2
âˆ’
1
)
ğ‘Œ
ğ‘¦
ğ‘¦
+
2
(
ğ‘„
ğ‘¥
ğ‘¥
ğ‘„
ğ‘¥
ğ‘¦
+
ğ‘„
ğ‘¦
ğ‘¥
ğ‘„
ğ‘¦
ğ‘¦
)
ğ‘Œ
ğ‘¥
ğ‘¦
.

Taking the derivative with respect to Qxx, Qxy, Qyx, Qyy in turn, we assemble a matrix.

2
[
ğ‘„
ğ‘¥
ğ‘¥
âˆ’
ğ‘€
ğ‘¥
ğ‘¥
+
ğ‘„
ğ‘¥
ğ‘¥
ğ‘Œ
ğ‘¥
ğ‘¥
+
ğ‘„
ğ‘¥
ğ‘¦
ğ‘Œ
ğ‘¥
ğ‘¦
	
ğ‘„
ğ‘¥
ğ‘¦
âˆ’
ğ‘€
ğ‘¥
ğ‘¦
+
ğ‘„
ğ‘¥
ğ‘¥
ğ‘Œ
ğ‘¥
ğ‘¦
+
ğ‘„
ğ‘¥
ğ‘¦
ğ‘Œ
ğ‘¦
ğ‘¦


ğ‘„
ğ‘¦
ğ‘¥
âˆ’
ğ‘€
ğ‘¦
ğ‘¥
+
ğ‘„
ğ‘¦
ğ‘¥
ğ‘Œ
ğ‘¥
ğ‘¥
+
ğ‘„
ğ‘¦
ğ‘¦
ğ‘Œ
ğ‘¥
ğ‘¦
	
ğ‘„
ğ‘¦
ğ‘¦
âˆ’
ğ‘€
ğ‘¦
ğ‘¦
+
ğ‘„
ğ‘¦
ğ‘¥
ğ‘Œ
ğ‘¥
ğ‘¦
+
ğ‘„
ğ‘¦
ğ‘¦
ğ‘Œ
ğ‘¦
ğ‘¦
]

In general, we obtain the equation

0
=
2
(
ğ‘„
âˆ’
ğ‘€
)
+
2
ğ‘„
ğ‘Œ
,

so that

ğ‘€
=
ğ‘„
(
ğ¼
+
ğ‘Œ
)
=
ğ‘„
ğ‘†
,

where Q is orthogonal and S is symmetric. To ensure a minimum, the Y matrix (and hence S) must be positive definite. Linear algebra calls QS the polar decomposition of M, with S the positive square root of S2 = MTM.

ğ‘†
2
=
(
ğ‘„
ğ‘‡
ğ‘€
)
ğ‘‡
(
ğ‘„
ğ‘‡
ğ‘€
)
=
ğ‘€
ğ‘‡
ğ‘„
ğ‘„
ğ‘‡
ğ‘€
=
ğ‘€
ğ‘‡
ğ‘€

When M is non-singular, the Q and S factors of the polar decomposition are uniquely determined. However, the determinant of S is positive because S is positive definite, so Q inherits the sign of the determinant of M. That is, Q is only guaranteed to be orthogonal, not a rotation matrix. This is unavoidable; an M with negative determinant has no uniquely defined closest rotation matrix.

Axis and angle[edit]
Main article: Axisâ€“angle representation

To efficiently construct a rotation matrix Q from an angle Î¸ and a unit axis u, we can take advantage of symmetry and skew-symmetry within the entries. If x, y, and z are the components of the unit vector representing the axis, and

ğ‘
	
=
cos
â¡
ğœƒ


ğ‘ 
	
=
sin
â¡
ğœƒ


ğ¶
	
=
1
âˆ’
ğ‘

then

ğ‘„
(
ğœƒ
)
=
[
ğ‘¥
ğ‘¥
ğ¶
+
ğ‘
	
ğ‘¥
ğ‘¦
ğ¶
âˆ’
ğ‘§
ğ‘ 
	
ğ‘¥
ğ‘§
ğ¶
+
ğ‘¦
ğ‘ 


ğ‘¦
ğ‘¥
ğ¶
+
ğ‘§
ğ‘ 
	
ğ‘¦
ğ‘¦
ğ¶
+
ğ‘
	
ğ‘¦
ğ‘§
ğ¶
âˆ’
ğ‘¥
ğ‘ 


ğ‘§
ğ‘¥
ğ¶
âˆ’
ğ‘¦
ğ‘ 
	
ğ‘§
ğ‘¦
ğ¶
+
ğ‘¥
ğ‘ 
	
ğ‘§
ğ‘§
ğ¶
+
ğ‘
]

Determining an axis and angle, like determining a quaternion, is only possible up to the sign; that is, (u, Î¸) and (âˆ’u, âˆ’Î¸) correspond to the same rotation matrix, just like q and âˆ’q. Additionally, axisâ€“angle extraction presents additional difficulties. The angle can be restricted to be from 0Â° to 180Â°, but angles are formally ambiguous by multiples of 360Â°. When the angle is zero, the axis is undefined. When the angle is 180Â°, the matrix becomes symmetric, which has implications in extracting the axis. Near multiples of 180Â°, care is needed to avoid numerical problems: in extracting the angle, a two-argument arctangent with atan2(sin Î¸, cos Î¸) equal to Î¸ avoids the insensitivity of arccos; and in computing the axis magnitude in order to force unit magnitude, a brute-force approach can lose accuracy through underflow (Moler & Morrison 1983).

A partial approach is as follows:

ğ‘¥
	
=
ğ‘„
ğ‘§
ğ‘¦
âˆ’
ğ‘„
ğ‘¦
ğ‘§


ğ‘¦
	
=
ğ‘„
ğ‘¥
ğ‘§
âˆ’
ğ‘„
ğ‘§
ğ‘¥


ğ‘§
	
=
ğ‘„
ğ‘¦
ğ‘¥
âˆ’
ğ‘„
ğ‘¥
ğ‘¦


ğ‘Ÿ
	
=
ğ‘¥
2
+
ğ‘¦
2
+
ğ‘§
2


ğ‘¡
	
=
ğ‘„
ğ‘¥
ğ‘¥
+
ğ‘„
ğ‘¦
ğ‘¦
+
ğ‘„
ğ‘§
ğ‘§


ğœƒ
	
=
atan2
â¡
(
ğ‘Ÿ
,
ğ‘¡
âˆ’
1
)

The x-, y-, and z-components of the axis would then be divided by r. A fully robust approach will use a different algorithm when t, the trace of the matrix Q, is negative, as with quaternion extraction. When r is zero because the angle is zero, an axis must be provided from some source other than the matrix.

Euler angles[edit]

Complexity of conversion escalates with Euler angles (used here in the broad sense). The first difficulty is to establish which of the twenty-four variations of Cartesian axis order we will use. Suppose the three angles are Î¸1, Î¸2, Î¸3; physics and chemistry may interpret these as

ğ‘„
(
ğœƒ
1
,
ğœƒ
2
,
ğœƒ
3
)
=
ğ‘„
ğ‘§
(
ğœƒ
1
)
ğ‘„
ğ‘¦
(
ğœƒ
2
)
ğ‘„
ğ‘§
(
ğœƒ
3
)
,

while aircraft dynamics may use

ğ‘„
(
ğœƒ
1
,
ğœƒ
2
,
ğœƒ
3
)
=
ğ‘„
ğ‘§
(
ğœƒ
3
)
ğ‘„
ğ‘¦
(
ğœƒ
2
)
ğ‘„
ğ‘¥
(
ğœƒ
1
)
.

One systematic approach begins with choosing the rightmost axis. Among all permutations of (x,y,z), only two place that axis first; one is an even permutation and the other odd. Choosing parity thus establishes the middle axis. That leaves two choices for the left-most axis, either duplicating the first or not. These three choices gives us 3 Ã— 2 Ã— 2 = 12 variations; we double that to 24 by choosing static or rotating axes.

This is enough to construct a matrix from angles, but triples differing in many ways can give the same rotation matrix. For example, suppose we use the zyz convention above; then we have the following equivalent pairs:

(90Â°,	45Â°,	âˆ’105Â°)	â‰¡	(âˆ’270Â°,	âˆ’315Â°,	255Â°)	multiples of 360Â°
(72Â°,	0Â°,	0Â°)	â‰¡	(40Â°,	0Â°,	32Â°)	singular alignment
(45Â°,	60Â°,	âˆ’30Â°)	â‰¡	(âˆ’135Â°,	âˆ’60Â°,	150Â°)	bistable flip

Angles for any order can be found using a concise common routine (Herter & Lott 1993; Shoemake 1994).

The problem of singular alignment, the mathematical analog of physical gimbal lock, occurs when the middle rotation aligns the axes of the first and last rotations. It afflicts every axis order at either even or odd multiples of 90Â°. These singularities are not characteristic of the rotation matrix as such, and only occur with the usage of Euler angles.

The singularities are avoided when considering and manipulating the rotation matrix as orthonormal row vectors (in 3D applications often named the right-vector, up-vector and out-vector) instead of as angles. The singularities are also avoided when working with quaternions.

Vector to vector formulation[edit]

In some instances it is interesting to describe a rotation by specifying how a vector is mapped into another through the shortest path (smallest angle). In 
ğ‘…
3
 this completely describes the associated rotation matrix. In general, given x, y âˆˆ 
ğ‘†
n, the matrix

ğ‘…
:=
ğ¼
+
ğ‘¦
ğ‘¥
ğ‘‡
âˆ’
ğ‘¥
ğ‘¦
ğ‘‡
+
1
1
+
âŸ¨
ğ‘¥
,
ğ‘¦
âŸ©
(
ğ‘¦
ğ‘¥
ğ‘‡
âˆ’
ğ‘¥
ğ‘¦
ğ‘‡
)
2

belongs to SO(n + 1) and maps x to y.[22]

Voigt notation[edit]

In materials science, the four-dimensional stiffness and compliance tensors are often simplified to a two-dimensional matrix using Voigt notation. When applying a rotational transform through angle 
ğœƒ
 in this notation, the rotation matrix is given by[23]

ğ‘‡
=
[
cos
2
â¡
ğœƒ
	
sin
2
â¡
ğœƒ
	
2
sin
â¡
ğœƒ
cos
â¡
ğœƒ


sin
2
â¡
ğœƒ
	
cos
2
â¡
ğœƒ
	
2
sin
â¡
ğœƒ
cos
â¡
ğœƒ


âˆ’
sin
â¡
ğœƒ
cos
â¡
ğœƒ
	
sin
â¡
ğœƒ
cos
â¡
ğœƒ
	
cos
2
â¡
ğœƒ
âˆ’
sin
2
â¡
ğœƒ
]
.

This is particularly useful in composite laminate design, where plies are often rotated by a certain angle to bring the properties of the laminate closer to isotropic.

Uniform random rotation matrices[edit]

We sometimes need to generate a uniformly distributed random rotation matrix. It seems intuitively clear in two dimensions that this means the rotation angle is uniformly distributed between 0 and 2Ï€. That intuition is correct, but does not carry over to higher dimensions. For example, if we decompose 3 Ã— 3 rotation matrices in axisâ€“angle form, the angle should not be uniformly distributed; the probability that (the magnitude of) the angle is at most Î¸ should be â 
1
/
Ï€
â (Î¸ âˆ’ sin Î¸), for 0 â‰¤ Î¸ â‰¤ Ï€.

Since SO(n) is a connected and locally compact Lie group, we have a simple standard criterion for uniformity, namely that the distribution be unchanged when composed with any arbitrary rotation (a Lie group "translation"). This definition corresponds to what is called Haar measure. LeÃ³n, MassÃ© & Rivest (2006) show how to use the Cayley transform to generate and test matrices according to this criterion.

We can also generate a uniform distribution in any dimension using the subgroup algorithm of Diaconis & Shahshahani (1987). This recursively exploits the nested dimensions group structure of SO(n), as follows. Generate a uniform angle and construct a 2 Ã— 2 rotation matrix. To step from n to n + 1, generate a vector v uniformly distributed on the n-sphere Sn, embed the n Ã— n matrix in the next larger size with last column (0, ..., 0, 1), and rotate the larger matrix so the last column becomes v.

As usual, we have special alternatives for the 3 Ã— 3 case. Each of these methods begins with three independent random scalars uniformly distributed on the unit interval. Arvo (1992) takes advantage of the odd dimension to change a Householder reflection to a rotation by negation, and uses that to aim the axis of a uniform planar rotation.

Another method uses unit quaternions. Multiplication of rotation matrices is homomorphic to multiplication of quaternions, and multiplication by a unit quaternion rotates the unit sphere. Since the homomorphism is a local isometry, we immediately conclude that to produce a uniform distribution on SO(3) we may use a uniform distribution on S3. In practice: create a four-element vector where each element is a sampling of a normal distribution. Normalize its length and you have a uniformly sampled random unit quaternion which represents a uniformly sampled random rotation. Note that the aforementioned only applies to rotations in dimension 3. For a generalised idea of quaternions, one should look into Rotors.

Euler angles can also be used, though not with each angle uniformly distributed (Murnaghan 1962; Miles 1965).

For the axisâ€“angle form, the axis is uniformly distributed over the unit sphere of directions, S2, while the angle has the nonuniform distribution over [0,Ï€] noted previously (Miles 1965).

See also[edit]
Eulerâ€“Rodrigues formula
Euler's rotation theorem
Rodrigues' rotation formula
Plane of rotation
Axisâ€“angle representation
Rotation group SO(3)
Rotation formalisms in three dimensions
Rotation operator (vector space)
Transformation matrix
Yaw-pitch-roll system
Kabsch algorithm
Isometry
Rigid transformation
Rotations in 4-dimensional Euclidean space
Trigonometric Identities
Versor
Remarks[edit]
^ Note that if instead of rotating vectors, it is the reference frame that is being rotated, the signs on the sin Î¸ terms will be reversed. If reference frame A is rotated anti-clockwise about the origin through an angle Î¸ to create reference frame B, then Rx (with the signs flipped) will transform a vector described in reference frame A coordinates to reference frame B coordinates. Coordinate frame transformations in aerospace, robotics, and other fields are often performed using this interpretation of the rotation matrix.
^ Note that
ğ‘¢
âŠ—
ğ‘¢
=
(
[
ğ‘¢
]
Ã—
)
2
+
ğ¼
so that, in Rodrigues' notation, equivalently,
ğ‘…
=
ğ¼
+
(
sin
â¡
ğœƒ
)
[
ğ‘¢
]
Ã—
+
(
1
âˆ’
cos
â¡
ğœƒ
)
(
[
ğ‘¢
]
Ã—
)
2
.
^ Note that this exponential map of skew-symmetric matrices to rotation matrices is quite different from the Cayley transform discussed earlier, differing to the third order,
ğ‘’
2
ğ´
âˆ’
ğ¼
+
ğ´
ğ¼
âˆ’
ğ´
=
âˆ’
2
3
ğ´
3
+
O
(
ğ´
4
)
.
Conversely, a skew-symmetric matrix A specifying a rotation matrix through the Cayley map specifies the same rotation matrix through the map exp(2 artanh A).
^ For a detailed derivation, see Derivative of the exponential map. Issues of convergence of this series to the right element of the Lie algebra are here swept under the carpet. Convergence is guaranteed when â€–Xâ€– + â€–Yâ€– < log 2 and â€–Zâ€– < log 2. If these conditions are not fulfilled, the series may still converge. A solution always exists since exp is onto[clarification needed] in the cases under consideration.
Notes[edit]
^ Swokowski, Earl (1979). Calculus with Analytic Geometry (SecondÂ ed.). Boston: Prindle, Weber, and Schmidt. ISBNÂ 0-87150-268-2.
^ W3C recommendation (2003). "Scalable Vector Graphics â€“ the initial coordinate system".
^ Weisstein, Eric W. "Rotation Matrix". mathworld.wolfram.com. Retrieved 2025-07-15.
^ "Rotation Matrices" (PDF). Retrieved 30 November 2021.
^ Palais, Bob; Palais, Richard (2007-12-20). "Euler's fixed point theorem: The axis of a rotation". Journal of Fixed Point Theory and Applications. 2 (2): 215â€“220. doi:10.1007/s11784-007-0042-5. ISSNÂ 1661-7738. MRÂ 2372984.
^ Kuo Kan, Liang (6 October 2018). "Efficient conversion from rotating matrix to rotation axis and angle by extending Rodrigues' formula". arXiv:1810.02999 [cs.CG].
^ Taylor, Camillo J.; Kriegman, David J. (1994). "Minimization on the Lie Group SO(3) and Related Manifolds" (PDF). Technical Report No. 9405. Yale University.
^ Balakrishnan, V. (1999). "How is a vector rotated?". Resonance. 4 (10): 61â€“68. doi:10.1007/BF02834260.
^ Morawiec, Adam (2004). Orientations and Rotations. Springer. doi:10.1007/978-3-662-09156-2. ISBNÂ 978-3-642-07386-1.
^ Palazzolo, A. (1976). "Formalism for the rotation matrix of rotations about an arbitrary axis". Am. J. Phys. 44 (1): 63â€“67. Bibcode:1976AmJPh..44...63P. doi:10.1119/1.10140.
^ Cole, Ian R. (January 2015). Modelling CPV (thesis). Loughborough University. hdl:2134/18050.
^ Mathews, Jon (1976). "Coordinate-free rotation formalism". Am. J. Phys. 44 (12): 121. Bibcode:1976AmJPh..44.1210M. doi:10.1119/1.10264.
^ Koehler, T. R.; Trickey, S. B. (1978). "Euler vectors and rotations about an arbitrary axis". Am. J. Phys. 46 (6): 650. Bibcode:1978AmJPh..46..650K. doi:10.1119/1.11223.
^ Baker (2003); Fulton & Harris (1991)
^ (Wedderburn 1934, Â§8.02)
^ Hall 2004, Ch.Â 3; Varadarajan 1984, Â§2.15
^ (EngÃ¸ 2001)
^ Curtright, T L; Fairlie, D B; Zachos, C K (2014). "A compact formula for rotations as spin matrix polynomials". SIGMA. 10: 084. arXiv:1402.3541. Bibcode:2014SIGMA..10..084C. doi:10.3842/SIGMA.2014.084. S2CIDÂ 18776942.
^ Baker 2003, Ch.Â 5; Fulton & Harris 1991, pp.Â 299â€“315
^ (Goldstein, Poole & Safko 2002, Â§4.8)
^ Shoemake, Ken (1985). "Animating rotation with quaternion curves". Computer Graphics: SIGGRAPH '85 Conference Proceedings. SIGGRAPH '85, 22â€“26 July 1985, San Francisco. Vol.Â 19. Association for Computing Machinery. pp.Â 245â€“254. doi:10.1145/325334.325242. ISBNÂ 0897911660.
^ Cid, Jose Ãngel; Tojo, F. AdriÃ¡n F. (2018). "A Lipschitz condition along a transversal foliation implies local uniqueness for ODEs". Electronic Journal of Qualitative Theory of Differential Equations. 13 (13): 1â€“14. arXiv:1801.01724. doi:10.14232/ejqtde.2018.1.13.
^ Clyne, T. W., & Hull, D. (2019). Tensor Analysis of Anisotropic Materials and the Elastic Deformation of Laminae. In An Introduction to Composite Materials (pp. 43â€“66). chapter, Cambridge: Cambridge University Press.
References[edit]
Arvo, James (1992), "Fast random rotation matrices", in David Kirk (ed.), Graphics Gems III, San Diego: Academic Press Professional, pp.Â 117â€“120, Bibcode:1992grge.book.....K, ISBNÂ 978-0-12-409671-4
Baker, Andrew (2003), Matrix Groups: An Introduction to Lie Group Theory, Springer, ISBNÂ 978-1-85233-470-3
Bar-Itzhack, Itzhack Y. (Novâ€“Dec 2000), "New method for extracting the quaternion from a rotation matrix", Journal of Guidance, Control and Dynamics, 23 (6): 1085â€“1087, Bibcode:2000JGCD...23.1085B, doi:10.2514/2.4654, ISSNÂ 0731-5090
BjÃ¶rck, Ã…ke; Bowie, Clazett (June 1971), "An iterative algorithm for computing the best estimate of an orthogonal matrix", SIAM Journal on Numerical Analysis, 8 (2): 358â€“364, Bibcode:1971SJNA....8..358B, doi:10.1137/0708036, ISSNÂ 0036-1429
Cayley, Arthur (1846), "Sur quelques propriÃ©tÃ©s des dÃ©terminants gauches", Journal fÃ¼r die reine und angewandte Mathematik, 1846 (32): 119â€“123, doi:10.1515/crll.1846.32.119, ISSNÂ 0075-4102, S2CIDÂ 199546746; reprinted as article 52 in Cayley, Arthur (1889), The collected mathematical papers of Arthur Cayley, vol.Â I (1841â€“1853), Cambridge University Press, pp.Â 332â€“336
Diaconis, Persi; Shahshahani, Mehrdad (1987), "The subgroup algorithm for generating uniform random variables" (PDF), Probability in the Engineering and Informational Sciences, 1: 15â€“32, doi:10.1017/S0269964800000255, ISSNÂ 0269-9648, S2CIDÂ 122752374, archived from the original (PDF) on 21 January 2022
EngÃ¸, Kenth (June 2001), "On the BCH-formula in so(3)", BIT Numerical Mathematics, 41 (3): 629â€“632, doi:10.1023/A:1021979515229, ISSNÂ 0006-3835, S2CIDÂ 126053191
Fan, Ky; Hoffman, Alan J. (February 1955), "Some metric inequalities in the space of matrices", Proceedings of the American Mathematical Society, 6 (1): 111â€“116, doi:10.2307/2032662, ISSNÂ 0002-9939, JSTORÂ 2032662
Fulton, William; Harris, Joe (1991), Representation Theory: A First Course, Graduate Texts in Mathematics, vol.Â 129, New York, Berlin, Heidelberg: Springer, ISBNÂ 978-0-387-97495-8, MRÂ 1153249
Goldstein, Herbert; Poole, Charles P.; Safko, John L. (2002), Classical Mechanics (thirdÂ ed.), Addison Wesley, ISBNÂ 978-0-201-65702-9
Hall, Brian C. (2004), Lie Groups, Lie Algebras, and Representations: An Elementary Introduction, Springer, ISBNÂ 978-0-387-40122-5 (GTM 222)
Herter, Thomas; Lott, Klaus (Septemberâ€“October 1993), "Algorithms for decomposing 3-D orthogonal matrices into primitive rotations", Computers & Graphics, 17 (5): 517â€“527, doi:10.1016/0097-8493(93)90003-R, ISSNÂ 0097-8493
Higham, Nicholas J. (October 1, 1989), "Matrix nearness problems and applications", in Gover, Michael J. C.; Barnett, Stephen (eds.), Applications of Matrix Theory, Oxford University Press, pp.Â 1â€“27, ISBNÂ 978-0-19-853625-3
LeÃ³n, Carlos A.; MassÃ©, Jean-Claude; Rivest, Louis-Paul (February 2006), "A statistical model for random rotations", Journal of Multivariate Analysis, 97 (2): 412â€“430, doi:10.1016/j.jmva.2005.03.009, ISSNÂ 0047-259X
Miles, Roger E. (December 1965), "On random rotations in R3", Biometrika, 52 (3/4): 636â€“639, doi:10.2307/2333716, ISSNÂ 0006-3444, JSTORÂ 2333716
Moler, Cleve; Morrison, Donald (1983), "Replacing square roots by pythagorean sums", IBM Journal of Research and Development, 27 (6): 577â€“581, doi:10.1147/rd.276.0577, ISSNÂ 0018-8646
Murnaghan, Francis D. (1950), "The element of volume of the rotation group", Proceedings of the National Academy of Sciences, 36 (11): 670â€“672, Bibcode:1950PNAS...36..670M, doi:10.1073/pnas.36.11.670, ISSNÂ 0027-8424, PMCÂ 1063502, PMIDÂ 16589056
Murnaghan, Francis D. (1962), The Unitary and Rotation Groups, Lectures on applied mathematics, Washington: Spartan Books
Cayley, Arthur (1889), The collected mathematical papers of Arthur Cayley, vol.Â I (1841â€“1853), Cambridge University Press, pp.Â 332â€“336
Paeth, Alan W. (1986), "A Fast Algorithm for General Raster Rotation" (PDF), Proceedings, Graphics Interface '86: 77â€“81
Daubechies, Ingrid; Sweldens, Wim (1998), "Factoring wavelet transforms into lifting steps" (PDF), Journal of Fourier Analysis and Applications, 4 (3): 247â€“269, Bibcode:1998JFAA....4..247D, doi:10.1007/BF02476026, S2CIDÂ 195242970
Pique, Michael E. (1990), "Rotation Tools", in Andrew S. Glassner (ed.), Graphics Gems, San Diego: Academic Press Professional, pp.Â 465â€“469, ISBNÂ 978-0-12-286166-6
Press, William H.; Teukolsky, Saul A.; Vetterling, William T.; Flannery, Brian P. (2007), "Section 21.5.2. Picking a Random Rotation Matrix", Numerical Recipes: The Art of Scientific Computing (3rdÂ ed.), New York: Cambridge University Press, ISBNÂ 978-0-521-88068-8, archived from the original on 2011-08-11, retrieved 2011-08-18
Shepperd, Stanley W. (Mayâ€“June 1978), "Quaternion from rotation matrix", Journal of Guidance and Control, 1 (3): 223â€“224, doi:10.2514/3.55767b
Shoemake, Ken (1994), "Euler angle conversion", in Paul Heckbert (ed.), Graphics Gems IV, San Diego: Academic Press Professional, pp.Â 222â€“229, ISBNÂ 978-0-12-336155-4
Stuelpnagel, John (October 1964), "On the parameterization of the three-dimensional rotation group", SIAM Review, 6 (4): 422â€“430, Bibcode:1964SIAMR...6..422S, doi:10.1137/1006093, ISSNÂ 0036-1445, S2CIDÂ 13990266 (Also NASA-CR-53568.)
Varadarajan, Veeravalli S. (1984), Lie Groups, Lie Algebras, and Their Representation, Springer, ISBNÂ 978-0-387-90969-1 (GTM 102)
Wedderburn, Joseph H. M. (1934), Lectures on Matrices, AMS, ISBNÂ 978-0-8218-3204-2
External links[edit]
"Rotation", Encyclopedia of Mathematics, EMS Press, 2001 [1994]
Rotation matrices at Mathworld
Math Awareness Month 2000 interactive demo (requires Java)
Rotation Matrices at MathPages
(in Italian) A parametrization of SOn(R) by generalized Euler Angles
Rotation about any point
hide
vte
Matrix classes

Explicitly constrained entries	
AlternantAnti-diagonalAnti-HermitianAnti-symmetricArrowheadBandBidiagonalBisymmetricBlock-diagonalBlockBlock tridiagonalBooleanCauchyCentrosymmetricConferenceComplex HadamardCopositiveDiagonally dominantDiagonalDiscrete Fourier TransformElementaryEquivalentFrobeniusGeneralized permutationHadamardHankelHermitianHessenbergHollowIntegerLogicalMatrix unitMetzlerMooreNonnegativePentadiagonalPermutationPersymmetricPolynomialQuaternionicSignatureSkew-HermitianSkew-symmetricSkylineSparseSylvesterSymmetricToeplitzTriangularTridiagonalVandermondeWalshZ

Constant	
ExchangeHilbertIdentityLehmerOf onesPascalPauliRedhefferShiftZero

Conditions on eigenvalues or eigenvectors	
CompanionConvergentDefectiveDefiniteDiagonalizableHurwitz-stablePositive-definiteStieltjes

Satisfying conditions on products or inverses	
CongruentIdempotent or ProjectionInvertibleInvolutoryNilpotentNormalOrthogonalUnimodularUnipotentUnitaryTotally unimodularWeighing

With specific applications	
AdjugateAlternating signAugmentedBÃ©zoutCarlemanCartanCirculantCofactorCommutationConfusionCoxeterDistanceDuplication and eliminationEuclidean distanceFundamental (linear differential equation)GeneratorGramHessianHouseholderJacobianMomentPayoffPickRandomRotationRouth-HurwitzSeifertShearSimilaritySymplecticTotally positiveTransformation

Used in statistics	
CenteringCorrelationCovarianceDesignDoubly stochasticFisher informationHatPrecisionStochasticTransition

Used in graph theory	
AdjacencyBiadjacencyDegreeEdmondsIncidenceLaplacianSeidel adjacencyTutte

Used in science and engineering	
Cabibboâ€“Kobayashiâ€“MaskawaDensityFundamental (computer vision)Fuzzy associativeGammaGell-MannHamiltonianIrregularOverlapSState transitionSubstitutionZ (chemistry)

Related terms	
Jordan normal formLinear independenceMatrix exponentialMatrix representation of conic sectionsPerfect matrixPseudoinverseRow echelon formWronskian


 Mathematics portalList of matricesCategory:Matrices (mathematics)
Categories: Transformation (function)Matrices (mathematics)Mathematical physics
This page was last edited on 30 July 2025, at 18:56Â (UTC).
Text is available under the Creative Commons Attribution-ShareAlike 4.0 License; additional terms may apply. By using this site, you agree to the Terms of Use and Privacy Policy. WikipediaÂ® is a registered trademark of the Wikimedia Foundation, Inc., a non-profit organization.
Privacy policy
About Wikipedia
Disclaimers
Contact Wikipedia
Code of Conduct
Developers
Statistics
Cookie statement
Mobile view
