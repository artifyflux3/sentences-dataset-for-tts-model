Jump to content Main menu Main menu move to sidebar hide Navigation Main page Contents Current events Random article About Wikipedia Contact us Contribute Help Learn to edit Community portal Recent changes Upload file Special pages Search Search Appearance Donate Create account Log in Personal tools Donate Create account Log in Pages for logged out editors learn more Contributions Talk CentralNotice Contents move to sidebar hide (Top) 1 Definition 2 Asymptotic distribution 3 Joint distribution 4 Relationship to other statistics 5 Test assumptions 6 See also 7 References Toggle the table of contents Logrank test 5 languages Español 한국어 Italiano 日本語 粵語 Edit links Article Talk English Read Edit View history Tools Tools move to sidebar hide Actions Read Edit View history General What links here Related changes Upload file Permanent link Page information Cite this page Get shortened URL Download QR code Print/export Download as PDF Printable version In other projects Wikidata item Appearance move to sidebar hide From Wikipedia, the free encyclopedia (Redirected from Log-rank test ) Hypothesis test to compare the survival distributions of two samples The logrank test , or log-rank test , is a hypothesis test to compare the survival distributions of two samples.  It is a nonparametric test and appropriate to use when the data are right skewed and censored (technically, the censoring must be non-informative).  It is widely used in clinical trials to establish the efficacy of a new treatment in comparison with a control treatment when the measurement is the time to event (such as the time from initial treatment to a heart attack). The test is sometimes called the Mantel–Cox test . The logrank test can also be viewed as a time-stratified Cochran–Mantel–Haenszel test .

The test was first proposed by Nathan Mantel and was named the logrank test by Richard and Julian Peto .

[ 1 ] [ 2 ] [ 3 ] Definition [ edit ] The logrank test statistic compares estimates of the hazard functions of the two groups at each observed event time.  It is constructed by computing the observed and expected number of events in one of the groups at each observed event time and then adding these to obtain an overall summary across all-time points where there is an event.

Consider two groups of patients, e.g., treatment vs. control.  Let 1 , … … , J {\displaystyle 1,\ldots ,J} be the distinct times of observed events in either group. Let N 1 , j {\displaystyle N_{1,j}} and N 2 , j {\displaystyle N_{2,j}} be the number of subjects "at risk" (who have not yet had an event or been censored) at the start of period j {\displaystyle j} in the groups, respectively. Let O 1 , j {\displaystyle O_{1,j}} and O 2 , j {\displaystyle O_{2,j}} be the observed number of events in the groups at time j {\displaystyle j} . Finally, define N j = N 1 , j + N 2 , j {\displaystyle N_{j}=N_{1,j}+N_{2,j}} and O j = O 1 , j + O 2 , j {\displaystyle O_{j}=O_{1,j}+O_{2,j}} .

The null hypothesis is that the two groups have identical hazard functions, H 0 : h 1 ( t ) = h 2 ( t ) {\displaystyle H_{0}:h_{1}(t)=h_{2}(t)} . Hence, under H 0 {\displaystyle H_{0}} , for each group i = 1 , 2 {\displaystyle i=1,2} , O i , j {\displaystyle O_{i,j}} follows a hypergeometric distribution with parameters N j {\displaystyle N_{j}} , N i , j {\displaystyle N_{i,j}} , O j {\displaystyle O_{j}} . This distribution has expected value E i , j = O j N i , j N j {\displaystyle E_{i,j}=O_{j}{\frac {N_{i,j}}{N_{j}}}} and variance V i , j = E i , j ( N j − − O j N j ) ( N j − − N i , j N j − − 1 ) {\displaystyle V_{i,j}=E_{i,j}\left({\frac {N_{j}-O_{j}}{N_{j}}}\right)\left({\frac {N_{j}-N_{i,j}}{N_{j}-1}}\right)} .

For all j = 1 , … … , J {\displaystyle j=1,\ldots ,J} , the logrank statistic compares O i , j {\displaystyle O_{i,j}} to its expectation E i , j {\displaystyle E_{i,j}} under H 0 {\displaystyle H_{0}} . It is defined as Z i = ∑ ∑ j = 1 J ( O i , j − − E i , j ) ∑ ∑ j = 1 J V i , j → d N ( 0 , 1 ) {\displaystyle Z_{i}={\frac {\sum _{j=1}^{J}(O_{i,j}-E_{i,j})}{\sqrt {\sum _{j=1}^{J}V_{i,j}}}}\ {\xrightarrow {d}}\ {\mathcal {N}}(0,1)} (for i = 1 {\displaystyle i=1} or 2 {\displaystyle 2} ) It is easy to see that for all j {\displaystyle j} , O 2 , j − − E 2 , j = − − ( O 1 , j − − E 1 , j ) {\displaystyle O_{2,j}-E_{2,j}=-(O_{1,j}-E_{1,j})} and V 2 , j = V 1 , j {\displaystyle V_{2,j}=V_{1,j}} , 
so Z 2 = − − Z 1 {\displaystyle Z_{2}=-Z_{1}} .

By the central limit theorem , the distribution of each Z i {\displaystyle Z_{i}} converges to that of a standard normal distribution as J {\displaystyle J} approaches infinity and therefore can be approximated by the standard normal distribution for a sufficiently large J {\displaystyle J} . An improved approximation can be obtained by equating this quantity to Pearson type I or II (beta) distributions with matching first four moments, as described in Appendix B of the Peto and Peto paper.

[ 2 ] Asymptotic distribution [ edit ] If the two groups have the same survival function, the logrank statistic is approximately standard normal.  A one-sided level α α {\displaystyle \alpha } test will reject the null hypothesis if Z > z α α {\displaystyle Z>z_{\alpha }} where z α α {\displaystyle z_{\alpha }} is the upper α α {\displaystyle \alpha } quantile of the standard normal distribution.  If the hazard ratio is λ λ {\displaystyle \lambda } , there are n {\displaystyle n} total subjects, d {\displaystyle d} is the probability a subject in either group will eventually have an event (so that n d {\displaystyle nd} is the expected number of events at the time of the analysis), and the proportion of subjects randomized to each group is 50%, then the logrank statistic is approximately normal with mean ( log ⁡ ⁡ λ λ ) n d 4 {\displaystyle (\log {\lambda })\,{\sqrt {\frac {n\,d}{4}}}} and variance 1.

[ 4 ] For a one-sided level α α {\displaystyle \alpha } test with power 1 − − β β {\displaystyle 1-\beta } , the sample size required is n = 4 ( z α α + z β β ) 2 d log 2 ⁡ ⁡ λ λ {\displaystyle n={\frac {4\,(z_{\alpha }+z_{\beta })^{2}}{d\log ^{2}{\lambda }}}} where z α α {\displaystyle z_{\alpha }} and z β β {\displaystyle z_{\beta }} are the quantiles of the standard normal distribution.

Joint distribution [ edit ] Suppose Z 1 {\displaystyle Z_{1}} and Z 2 {\displaystyle Z_{2}} are the logrank statistics at two different time points in the same study ( Z 1 {\displaystyle Z_{1}} earlier).  Again, assume the hazard functions in the two groups are proportional with hazard ratio λ λ {\displaystyle \lambda } and d 1 {\displaystyle d_{1}} and d 2 {\displaystyle d_{2}} are the probabilities that a subject will have an event at the two time points where d 1 ≤ ≤ d 2 {\displaystyle d_{1}\leq d_{2}} .

Z 1 {\displaystyle Z_{1}} and Z 2 {\displaystyle Z_{2}} are approximately bivariate normal with means log ⁡ ⁡ λ λ n d 1 4 {\displaystyle \log {\lambda }\,{\sqrt {\frac {n\,d_{1}}{4}}}} and log ⁡ ⁡ λ λ n d 2 4 {\displaystyle \log {\lambda }\,{\sqrt {\frac {n\,d_{2}}{4}}}} and correlation d 1 d 2 {\displaystyle {\sqrt {\frac {d_{1}}{d_{2}}}}} .  Calculations involving the joint distribution are needed to correctly maintain the error rate when the data are examined multiple times within a study by a Data Monitoring Committee .

Relationship to other statistics [ edit ] The logrank statistic can be derived as the score test for the Cox proportional hazards model comparing two groups. It is therefore asymptotically equivalent to the likelihood ratio test statistic based from that model.

The logrank statistic is asymptotically equivalent to the likelihood ratio test statistic for any family of distributions with proportional hazard alternative.  For example, if the data from the two samples have exponential distributions .

If Z {\displaystyle Z} is the logrank statistic, D {\displaystyle D} is the number of events observed, and λ λ ^ ^ {\displaystyle {\hat {\lambda }}} is the estimate of the hazard ratio, then log ⁡ ⁡ λ λ ^ ^ ≈ ≈ Z 4 / D {\displaystyle \log {\hat {\lambda }}\approx Z\,{\sqrt {4/D}}} .  This relationship is useful when two of the quantities are known (e.g. from a published article), but the third one is needed.

The logrank statistic can be used when observations are censored. If censored observations are not present in the data then the Wilcoxon rank sum test is appropriate.

The logrank statistic gives all calculations the same weight, regardless of the time at which an event occurs.  The Peto logrank test statistic gives more weight to earlier events when there are a large number of observations.

Test assumptions [ edit ] The logrank test is based on the same assumptions as the Kaplan-Meier survival curve—namely, that censoring is unrelated to prognosis, the survival probabilities are the same for subjects recruited early and late in the study, and the events happened at the times specified. Deviations from these assumptions matter most if they are satisfied differently in the groups being compared, for example if censoring is more likely in one group than another.

[ 5 ] See also [ edit ] Mathematics portal Kaplan–Meier estimator Hazard ratio References [ edit ] ^ Mantel, Nathan (1966). "Evaluation of survival data and two new rank order statistics arising in its consideration".

Cancer Chemotherapy Reports .

50 (3): 163– 70.

PMID 5910392 .

^ a b Peto, Richard ; Peto, Julian (1972). "Asymptotically Efficient Rank Invariant Test Procedures".

Journal of the Royal Statistical Society, Series A .

135 (2). Blackwell Publishing: 185– 207.

doi : 10.2307/2344317 .

hdl : 10338.dmlcz/103602 .

JSTOR 2344317 .

^ Harrington, David (2005). "Linear Rank Tests in Survival Analysis".

Encyclopedia of Biostatistics . Wiley Interscience.

doi : 10.1002/0470011815.b2a11047 .

ISBN 047084907X .

^ Schoenfeld, D (1981). "The asymptotic properties of nonparametric tests for comparing survival distributions".

Biometrika .

68 (1): 316– 319.

doi : 10.1093/biomet/68.1.316 .

JSTOR 2335833 .

^ Bland, J. M.

; Altman, D. G.

(2004).

"The logrank test" .

BMJ .

328 (7447): 1073.

doi : 10.1136/bmj.328.7447.1073 .

PMC 403858 .

PMID 15117797 .

v t e Statistics Outline Index Descriptive statistics Continuous data Center Mean Arithmetic Arithmetic-Geometric Contraharmonic Cubic Generalized/power Geometric Harmonic Heronian Heinz Lehmer Median Mode Dispersion Average absolute deviation Coefficient of variation Interquartile range Percentile Range Standard deviation Variance Shape Central limit theorem Moments Kurtosis L-moments Skewness Count data Index of dispersion Summary tables Contingency table Frequency distribution Grouped data Dependence Partial correlation Pearson product-moment correlation Rank correlation Kendall's τ Spearman's ρ Scatter plot Graphics Bar chart Biplot Box plot Control chart Correlogram Fan chart Forest plot Histogram Pie chart Q–Q plot Radar chart Run chart Scatter plot Stem-and-leaf display Violin plot Data collection Study design Effect size Missing data Optimal design Population Replication Sample size determination Statistic Statistical power Survey methodology Sampling Cluster Stratified Opinion poll Questionnaire Standard error Controlled experiments Blocking Factorial experiment Interaction Random assignment Randomized controlled trial Randomized experiment Scientific control Adaptive designs Adaptive clinical trial Stochastic approximation Up-and-down designs Observational studies Cohort study Cross-sectional study Natural experiment Quasi-experiment Statistical inference Statistical theory Population Statistic Probability distribution Sampling distribution Order statistic Empirical distribution Density estimation Statistical model Model specification L p space Parameter location scale shape Parametric family Likelihood (monotone) Location–scale family Exponential family Completeness Sufficiency Statistical functional Bootstrap U V Optimal decision loss function Efficiency Statistical distance divergence Asymptotics Robustness Frequentist inference Point estimation Estimating equations Maximum likelihood Method of moments M-estimator Minimum distance Unbiased estimators Mean-unbiased minimum-variance Rao–Blackwellization Lehmann–Scheffé theorem Median unbiased Plug-in Interval estimation Confidence interval Pivot Likelihood interval Prediction interval Tolerance interval Resampling Bootstrap Jackknife Testing hypotheses 1- & 2-tails Power Uniformly most powerful test Permutation test Randomization test Multiple comparisons Parametric tests Likelihood-ratio Score/Lagrange multiplier Wald Specific tests Z -test (normal) Student's t -test F -test Goodness of fit Chi-squared G -test Kolmogorov–Smirnov Anderson–Darling Lilliefors Jarque–Bera Normality (Shapiro–Wilk) Likelihood-ratio test Model selection Cross validation AIC BIC Rank statistics Sign Sample median Signed rank (Wilcoxon) Hodges–Lehmann estimator Rank sum (Mann–Whitney) Nonparametric anova 1-way (Kruskal–Wallis) 2-way (Friedman) Ordered alternative (Jonckheere–Terpstra) Van der Waerden test Bayesian inference Bayesian probability prior posterior Credible interval Bayes factor Bayesian estimator Maximum posterior estimator Correlation Regression analysis Correlation Pearson product-moment Partial correlation Confounding variable Coefficient of determination Regression analysis Errors and residuals Regression validation Mixed effects models Simultaneous equations models Multivariate adaptive regression splines (MARS) Linear regression Simple linear regression Ordinary least squares General linear model Bayesian regression Non-standard predictors Nonlinear regression Nonparametric Semiparametric Isotonic Robust Homoscedasticity and Heteroscedasticity Generalized linear model Exponential families Logistic (Bernoulli) / Binomial / Poisson regressions Partition of variance Analysis of variance (ANOVA, anova) Analysis of covariance Multivariate ANOVA Degrees of freedom Categorical / multivariate / time-series / survival analysis Categorical Cohen's kappa Contingency table Graphical model Log-linear model McNemar's test Cochran–Mantel–Haenszel statistics Multivariate Regression Manova Principal components Canonical correlation Discriminant analysis Cluster analysis Classification Structural equation model Factor analysis Multivariate distributions Elliptical distributions Normal Time-series General Decomposition Trend Stationarity Seasonal adjustment Exponential smoothing Cointegration Structural break Granger causality Specific tests Dickey–Fuller Johansen Q-statistic (Ljung–Box) Durbin–Watson Breusch–Godfrey Time domain Autocorrelation (ACF) partial (PACF) Cross-correlation (XCF) ARMA model ARIMA model (Box–Jenkins) Autoregressive conditional heteroskedasticity (ARCH) Vector autoregression (VAR) Frequency domain Spectral density estimation Fourier analysis Least-squares spectral analysis Wavelet Whittle likelihood Survival Survival function Kaplan–Meier estimator (product limit) Proportional hazards models Accelerated failure time (AFT) model First hitting time Hazard function Nelson–Aalen estimator Test Log-rank test Applications Biostatistics Bioinformatics Clinical trials / studies Epidemiology Medical statistics Engineering statistics Chemometrics Methods engineering Probabilistic design Process / quality control Reliability System identification Social statistics Actuarial science Census Crime statistics Demography Econometrics Jurimetrics National accounts Official statistics Population statistics Psychometrics Spatial statistics Cartography Environmental statistics Geographic information system Geostatistics Kriging Category Mathematics portal Commons WikiProject Retrieved from " https://en.wikipedia.org/w/index.php?title=Logrank_test&oldid=1281290622 " Categories : Survival analysis Time series statistical tests Hidden categories: Articles with short description Short description matches Wikidata This page was last edited on 19 March 2025, at 13:29 (UTC) .

Text is available under the Creative Commons Attribution-ShareAlike 4.0 License ;
additional terms may apply. By using this site, you agree to the Terms of Use and Privacy Policy . Wikipedia® is a registered trademark of the Wikimedia Foundation, Inc.

, a non-profit organization.

Privacy policy About Wikipedia Disclaimers Contact Wikipedia Code of Conduct Developers Statistics Cookie statement Mobile view Search Search Toggle the table of contents Logrank test 5 languages Add topic

