Jump to content Main menu Main menu move to sidebar hide Navigation Main page Contents Current events Random article About Wikipedia Contact us Contribute Help Learn to edit Community portal Recent changes Upload file Special pages Search Search Appearance Donate Create account Log in Personal tools Donate Create account Log in Pages for logged out editors learn more Contributions Talk CentralNotice Contents move to sidebar hide (Top) 1 Euclidean Toggle Euclidean subsection 1.1 sRGB 1.2 Uniform color spaces 1.2.1 Rec. ITU-R BT.2124 or Δ E ITP 1.3 Other geometric constructions 2 CIELAB ΔE* Toggle CIELAB ΔE* subsection 2.1 CIE76 2.2 CMC l:c (1984) 2.3 CIE94 2.4 CIEDE2000 3 Tolerance 4 See also 5 Footnotes Toggle Footnotes subsection 5.1 Notes 5.2 References 6 Further reading 7 External links Toggle the table of contents Color difference 13 languages Català Deutsch Español فارسی Français 한국어 Magyar 日本語 Polski Русский Slovenščina Suomi 中文 Edit links Article Talk English Read Edit View history Tools Tools move to sidebar hide Actions Read Edit View history General What links here Related changes Upload file Permanent link Page information Cite this page Get shortened URL Download QR code Print/export Download as PDF Printable version In other projects Wikidata item Appearance move to sidebar hide From Wikipedia, the free encyclopedia Metric for difference between two colors In color science , color difference or color distance is the separation between two colors . This metric allows quantified examination of a notion that formerly could only be described with adjectives. Quantification of these properties is of great importance to those whose work is color-critical. Common definitions make use of the Euclidean distance in a device-independent color space .

Euclidean [ edit ] sRGB [ edit ] As most definitions of color difference are distances within a color space , the standard means of determining distances is the Euclidean distance. If one presently has an RGB (red, green, blue) tuple and wishes to find the color difference, computationally one of the easiest is to consider R , G , B linear dimensions defining the color space.

A very simple example can be given between the two colors with RGB values (0, 64, 0) ( ) and (255, 64, 0) ( ): their distance is 255. Going from there to (255, 64, 128) ( ) is a distance of 128.

When we wish to calculate distance from the first point to the third point (i.e. changing more than one of the color values), we can do this: distance = ( R 2 − − R 1 ) 2 + ( G 2 − − G 1 ) 2 + ( B 2 − − B 1 ) 2 .

{\displaystyle {\text{distance}}={\sqrt {(R_{2}-R_{1})^{2}+(G_{2}-G_{1})^{2}+(B_{2}-B_{1})^{2}}}.} When the result should be computationally simple as well, it is often acceptable to remove the square root and simply use distance 2 = ( R 2 − − R 1 ) 2 + ( G 2 − − G 1 ) 2 + ( B 2 − − B 1 ) 2 .

{\displaystyle {\text{distance}}^{2}=(R_{2}-R_{1})^{2}+(G_{2}-G_{1})^{2}+(B_{2}-B_{1})^{2}.} This will work in cases when a single color is to be compared to a single color and the need is to simply know whether a distance is greater. If these squared color distances are summed, such a metric effectively becomes the variance of the color distances.

There have been many attempts to weigh RGB values , however these are demonstrably [ citation needed ] worse at color determinations and are properly the contributions to the brightness of these colors, rather than to the degree to which human vision has less tolerance for these colors. The closer approximations would be more properly (for non-linear sRGB , using a color range of 0–255): [ 1 ] { 2 Δ Δ R 2 + 4 Δ Δ G 2 + 3 Δ Δ B 2 , R ¯ ¯ < 128 , 3 Δ Δ R 2 + 4 Δ Δ G 2 + 2 Δ Δ B 2 otherwise , {\displaystyle {\begin{cases}{\sqrt {2\Delta R^{2}+4\Delta G^{2}+3\Delta B^{2}}},&{\bar {R}}<128,\\{\sqrt {3\Delta R^{2}+4\Delta G^{2}+2\Delta B^{2}}}&{\text{otherwise}},\end{cases}}} where: Δ Δ R = R 1 − − R 2 , Δ Δ G = G 1 − − G 2 , Δ Δ B = B 1 − − B 2 , R ¯ ¯ = 1 2 ( R 1 + R 2 ) .

{\displaystyle {\begin{aligned}\Delta R&=R_{1}-R_{2},\\\Delta G&=G_{1}-G_{2},\\\Delta B&=B_{1}-B_{2},\\{\bar {R}}&={\frac {1}{2}}(R_{1}+R_{2}).\end{aligned}}} One of the better low-cost approximations, sometimes called "redmean", combines the two cases smoothly: [ 1 ] r ¯ ¯ = 1 2 ( R 1 + R 2 ) , Δ Δ C = ( 2 + r ¯ ¯ 256 ) Δ Δ R 2 + 4 Δ Δ G 2 + ( 2 + 255 − − r ¯ ¯ 256 ) Δ Δ B 2 .

{\displaystyle {\begin{aligned}{\bar {r}}&={\frac {1}{2}}(R_{1}+R_{2}),\\\Delta C&={\sqrt {\left(2+{\frac {\bar {r}}{256}}\right)\Delta R^{2}+4\Delta G^{2}+\left(2+{\frac {255-{\bar {r}}}{256}}\right)\Delta B^{2}}}.\end{aligned}}} There are a number of color distance formulae that attempt to use color spaces like HSV or HSL with the hue represented as a circle, placing the various colors within a three-dimensional space of either a cylinder or cone, but most of these are just modifications of RGB; without accounting for differences in human color perception, they will tend to be on par with a simple Euclidean metric.

[ citation needed ] Uniform color spaces [ edit ] CIELAB and CIELUV are relatively perceptually-uniform color spaces and they have been used as spaces for Euclidean measures of color difference. The CIELAB version is known as CIE76. However, the non-uniformity of these spaces were later discovered, leading to the creation of more complex formulae.

See also: § Tolerance Uniform color space : a color space in which equivalent numerical differences represent equivalent visual differences, regardless of location within the color space. A truly uniform color space has been the goal of color scientists for many years. Most color spaces, though not perfectly uniform, are referred to as uniform color spaces, since they are more nearly uniform when compared to the chromaticity diagram.

— X-rite glossary [ 2 ] A uniform color space is supposed to make a simple measure of color difference, usually Euclidean, "just work". Color spaces that improve on this issue include CAM02-UCS , CAM16-UCS, and J z a z b z .

[ 3 ] Rec. ITU-R BT.2124 or Δ E ITP [ edit ] In 2019 a new standard for WCG and HDR was introduced, since CIEDE2000 was not adequate for it: CIEDE2000 is not reliable below 1 cd/m 2 and has not been verified above 100 cd/m 2 ; in addition, even in BT.709 blue primary CIEDE2000 is underpredicting the error.

[ 4 ] Δ E ITP is scaled so that a value of 1 indicates the potential of a just noticeable color difference. The Δ E ITP color difference metric is derived from display referenced IC T C P , but XYZ is also available in the standard. The formula is a simply scaled Euclidean distance: [ 5 ] Δ Δ E ITP = 720 ( I 1 − − I 2 ) 2 + ( T 1 − − T 2 ) 2 + ( P 1 − − P 2 ) 2 , {\displaystyle \Delta E_{\text{ITP}}=720{\sqrt {(I_{1}-I_{2})^{2}+(T_{1}-T_{2})^{2}+(P_{1}-P_{2})^{2}}},} where the components of this "ITP" is given by I = I , T = 0.5 C T , P = C P .

Other geometric constructions [ edit ] The Euclidean measure is known to work poorly on large color distances (i.e. more than 10 units in most systems). A hybrid approach where a taxicab distance is used between the lightness and the chroma plane, Δ Δ E HyAB = ( a 2 − − a 1 ) 2 + ( b 2 − − b 1 ) 2 + | L 2 − − L 1 | {\textstyle \Delta E_{\text{HyAB}}={\sqrt {(a_{2}-a_{1})^{2}+(b_{2}-b_{1})^{2}}}+\left|L_{2}-L_{1}\right|} , is shown to work better on CIELAB.

[ 6 ] CIELAB ΔE* [ edit ] This section is missing information about acceptability difference values in industry.

Please expand the section to include this information. Further details may exist on the talk page .

( July 2021 ) The International Commission on Illumination (CIE) calls their distance metric Δ E* (also inaccurately called dE * , dE , or "Delta E") where delta is a Greek letter often used to denote difference, and E stands for Empfindung ; German for "sensation". Use of this term can be traced back to Hermann von Helmholtz and Ewald Hering .

[ 7 ] [ 8 ] Perceptual non-uniformities in the underlying CIELAB color space have led to the CIE refining their definition over the years, leading to the superior (as recommended by the CIE) 1994 and 2000 formulas.

[ 9 ] These non-uniformities are important because the human eye is more sensitive to certain colors than others . CIELAB metric is used to define color tolerance of CMYK solids. A good metric should take this into account in order for the notion of a " just noticeable difference " (JND) to have meaning. Otherwise, a certain Δ E may be insignificant between two colors in one part of the color space while being significant in some other part.

[ 10 ] All Δ E* formulae are originally designed to have the difference of 1.0 stand for a JND. This convention is generally followed by other perceptual distance functions such as the aforementioned Δ E ITP .

[ 11 ] However, further experimentation may invalidate this design assumption, the revision of CIE76 Δ E * ab JND to 2.3 being an example.

[ 12 ] CIE76 [ edit ] The CIE 1976 color difference formula is the first formula that related a measured color difference to a known set of CIELAB coordinates. This formula has been succeeded by the 1994 and 2000 formulas because the CIELAB space turned out to be not as perceptually uniform as intended, especially in the saturated regions. This means that this formula rates these colors too highly as opposed to other colors.

Given two colors in CIELAB color space , ( L 1 ∗ ∗ , a 1 ∗ ∗ , b 1 ∗ ∗ ) {\textstyle ({L_{1}^{*}},{a_{1}^{*}},{b_{1}^{*}})} and ( L 2 ∗ ∗ , a 2 ∗ ∗ , b 2 ∗ ∗ ) {\textstyle ({L_{2}^{*}},{a_{2}^{*}},{b_{2}^{*}})} , the CIE76 color difference formula is defined as: Δ Δ E a b ∗ ∗ = ( L 2 ∗ ∗ − − L 1 ∗ ∗ ) 2 + ( a 2 ∗ ∗ − − a 1 ∗ ∗ ) 2 + ( b 2 ∗ ∗ − − b 1 ∗ ∗ ) 2 .

{\displaystyle \Delta E_{ab}^{*}={\sqrt {(L_{2}^{*}-L_{1}^{*})^{2}+(a_{2}^{*}-a_{1}^{*})^{2}+(b_{2}^{*}-b_{1}^{*})^{2}}}.} Δ Δ E a b ∗ ∗ ≈ ≈ 2.3 {\textstyle \Delta E_{ab}^{*}\approx 2.3} corresponds to a JND (just noticeable difference).

[ 12 ] CMC l:c (1984) [ edit ] In 1984, the Colour Measurement Committee of the Society of Dyers and Colourists defined a difference measure based on the CIE L*C*h color model, an alternative representation of L*a*b* coordinates . Named after the developing committee, their metric is called CMC l:c . The quasimetric (i.e. it violates symmetry: parameter T is based on the hue of the reference h 1 {\displaystyle h_{1}} alone) has two parameters: lightness (l) and chroma (c), allowing the users to weight the difference based on the ratio of l:c that is deemed appropriate for the application. Commonly used values are 2:1 [ 13 ] for acceptability and 1:1 for the threshold of imperceptibility.

The distance of a color ( L 2 ∗ ∗ , C 2 ∗ ∗ , h 2 ) {\textstyle (L_{2}^{*},C_{2}^{*},h_{2})} to a reference ( L 1 ∗ ∗ , C 1 ∗ ∗ , h 1 ) {\textstyle (L_{1}^{*},C_{1}^{*},h_{1})} is: [ 14 ] Δ Δ E C M C ∗ ∗ = ( L 2 ∗ ∗ − − L 1 ∗ ∗ l × × S L ) 2 + ( C 2 ∗ ∗ − − C 1 ∗ ∗ c × × S C ) 2 + ( Δ Δ H a b ∗ ∗ S H ) 2 {\displaystyle \Delta E_{CMC}^{*}={\sqrt {\left({\frac {L_{2}^{*}-L_{1}^{*}}{l\times S_{L}}}\right)^{2}+\left({\frac {C_{2}^{*}-C_{1}^{*}}{c\times S_{C}}}\right)^{2}+\left({\frac {\Delta H_{ab}^{*}}{S_{H}}}\right)^{2}}}} S L = { 0.511 L 1 ∗ ∗ < 16 0.040975 L 1 ∗ ∗ 1 + 0.01765 L 1 ∗ ∗ L 1 ∗ ∗ ≥ ≥ 16 S C = 0.0638 C 1 ∗ ∗ 1 + 0.0131 C 1 ∗ ∗ + 0.638 S H = S C ( F T + 1 − − F ) {\displaystyle S_{L}={\begin{cases}0.511&L_{1}^{*}<16\\{\frac {0.040975L_{1}^{*}}{1+0.01765L_{1}^{*}}}&L_{1}^{*}\geq 16\end{cases}}\quad S_{C}={\frac {0.0638C_{1}^{*}}{1+0.0131C_{1}^{*}}}+0.638\quad S_{H}=S_{C}(FT+1-F)} F = C 1 ∗ ∗ 4 C 1 ∗ ∗ 4 + 1900 T = { 0.56 + | 0.2 cos ⁡ ⁡ ( h 1 + 168 ∘ ∘ ) | 164 ∘ ∘ ≤ ≤ h 1 ≤ ≤ 345 ∘ ∘ 0.36 + | 0.4 cos ⁡ ⁡ ( h 1 + 35 ∘ ∘ ) | otherwise {\displaystyle F={\sqrt {\frac {C_{1}^{*^{4}}}{C_{1}^{*^{4}}+1900}}}\quad T={\begin{cases}0.56+|0.2\cos(h_{1}+168^{\circ })|&164^{\circ }\leq h_{1}\leq 345^{\circ }\\0.36+|0.4\cos(h_{1}+35^{\circ })|&{\mbox{otherwise}}\end{cases}}} CMC l:c is designed to be used with D65 and the CIE Supplementary Observer .

[ 15 ] CIE94 [ edit ] The CIE 1976 color difference definition was extended to address perceptual non-uniformities, while retaining the CIELAB color space, by the introduction of application-specific parametric weighting factors k L , k C and k H , and functions S L , S C , and S H derived from an automotive paint test's tolerance data.

[ 11 ] As with the CMC I:c, Δ E (1994) is defined in the L*C*h* color space and likewise violates symmetry, therefore defining a quasimetric. Given a reference color [ a ] ( L 1 ∗ ∗ , a 1 ∗ ∗ , b 1 ∗ ∗ ) {\displaystyle (L_{1}^{*},a_{1}^{*},b_{1}^{*})} and another color ( L 2 ∗ ∗ , a 2 ∗ ∗ , b 2 ∗ ∗ ) {\displaystyle (L_{2}^{*},a_{2}^{*},b_{2}^{*})} , the difference is [ 16 ] [ 17 ] [ 18 ] Δ Δ E 94 ∗ ∗ = ( Δ Δ L ∗ ∗ k L S L ) 2 + ( Δ Δ C ∗ ∗ k C S C ) 2 + ( Δ Δ H ∗ ∗ k H S H ) 2 , {\displaystyle \Delta E_{94}^{*}={\sqrt {\left({\frac {\Delta L^{*}}{k_{L}S_{L}}}\right)^{2}+\left({\frac {\Delta C^{*}}{k_{C}S_{C}}}\right)^{2}+\left({\frac {\Delta H^{*}}{k_{H}S_{H}}}\right)^{2}}},} where Δ Δ L ∗ ∗ = L 1 ∗ ∗ − − L 2 ∗ ∗ , C 1 ∗ ∗ = a 1 ∗ ∗ 2 + b 1 ∗ ∗ 2 , C 2 ∗ ∗ = a 2 ∗ ∗ 2 + b 2 ∗ ∗ 2 , Δ Δ C ∗ ∗ = C 1 ∗ ∗ − − C 2 ∗ ∗ , Δ Δ H ∗ ∗ = Δ Δ E a b ∗ ∗ 2 − − Δ Δ L ∗ ∗ 2 − − Δ Δ C ∗ ∗ 2 = Δ Δ a ∗ ∗ 2 + Δ Δ b ∗ ∗ 2 − − Δ Δ C ∗ ∗ 2 , Δ Δ a ∗ ∗ = a 1 ∗ ∗ − − a 2 ∗ ∗ , Δ Δ b ∗ ∗ = b 1 ∗ ∗ − − b 2 ∗ ∗ , S L = 1 , S C = 1 + K 1 C 1 ∗ ∗ , S H = 1 + K 2 C 1 ∗ ∗ , {\displaystyle {\begin{aligned}\Delta L^{*}&=L_{1}^{*}-L_{2}^{*},\\C_{1}^{*}&={\sqrt {{a_{1}^{*}}^{2}+{b_{1}^{*}}^{2}}},\\C_{2}^{*}&={\sqrt {{a_{2}^{*}}^{2}+{b_{2}^{*}}^{2}}},\\\Delta C^{*}&=C_{1}^{*}-C_{2}^{*},\\\Delta H^{*}&={\sqrt {{\Delta E_{ab}^{*}}^{2}-{\Delta L^{*}}^{2}-{\Delta C^{*}}^{2}}}={\sqrt {{\Delta a^{*}}^{2}+{\Delta b^{*}}^{2}-{\Delta C^{*}}^{2}}},\\\Delta a^{*}&=a_{1}^{*}-a_{2}^{*},\\\Delta b^{*}&=b_{1}^{*}-b_{2}^{*},\\S_{L}&=1,\\S_{C}&=1+K_{1}C_{1}^{*},\\S_{H}&=1+K_{2}C_{1}^{*},\\\end{aligned}}} and where k C and k H are usually both set to unity, and the parametric weighting factors k L , K 1 and K 2 depend on the application: graphic arts textiles k L {\displaystyle k_{L}} 1 2 K 1 {\displaystyle K_{1}} 0.045 0.048 K 2 {\displaystyle K_{2}} 0.015 0.014 Geometrically, the quantity Δ Δ H a b ∗ ∗ {\displaystyle \Delta H_{ab}^{*}} corresponds to the arithmetic mean of the chord lengths of the equal chroma circles of the two colors.

[ 19 ] CIEDE2000 [ edit ] Since the 1994 definition did not adequately resolve the perceptual uniformity issue, the CIE refined their definition with the CIEDE2000 formula published in 2001, adding five corrections: [ 20 ] [ 21 ] A hue rotation term (R T ), to deal with the problematic blue region (hue angles in the neighborhood of 275°): [ 22 ] Compensation for neutral colors (the primed values in the L*C*h differences) Compensation for lightness (S L ) Compensation for chroma (S C ) Compensation for hue (S H ) Δ Δ E 00 ∗ ∗ = ( Δ Δ L ′ k L S L ) 2 + ( Δ Δ C ′ k C S C ) 2 + ( Δ Δ H ′ k H S H ) 2 + R T Δ Δ C ′ k C S C Δ Δ H ′ k H S H {\displaystyle \Delta E_{00}^{*}={\sqrt {\left({\frac {\Delta L'}{k_{L}S_{L}}}\right)^{2}+\left({\frac {\Delta C'}{k_{C}S_{C}}}\right)^{2}+\left({\frac {\Delta H'}{k_{H}S_{H}}}\right)^{2}+R_{T}{\frac {\Delta C'}{k_{C}S_{C}}}{\frac {\Delta H'}{k_{H}S_{H}}}}}} The formulae below should use degrees rather than radians; the issue is significant for R T .

The parametric weighting factors k L , k C , and k H are usually set to unity.

Δ Δ L ′ ′ = L 2 ∗ ∗ − − L 1 ∗ ∗ {\displaystyle \Delta L^{\prime }=L_{2}^{*}-L_{1}^{*}} L ¯ ¯ = L 1 ∗ ∗ + L 2 ∗ ∗ 2 C ¯ ¯ = C 1 ∗ ∗ + C 2 ∗ ∗ 2 where C 1 ∗ ∗ = a 1 ∗ ∗ 2 + b 1 ∗ ∗ 2 , C 2 ∗ ∗ = a 2 ∗ ∗ 2 + b 2 ∗ ∗ 2 , {\displaystyle {\bar {L}}={\frac {L_{1}^{*}+L_{2}^{*}}{2}}\quad {\bar {C}}={\frac {C_{1}^{*}+C_{2}^{*}}{2}}\quad {\mbox{where }}C_{1}^{*}={\sqrt {{a_{1}^{*}}^{2}+{b_{1}^{*}}^{2}}},\quad C_{2}^{*}={\sqrt {{a_{2}^{*}}^{2}+{b_{2}^{*}}^{2}}},\quad } a 1 ′ ′ = a 1 ∗ ∗ + a 1 ∗ ∗ 2 ( 1 − − C ¯ ¯ 7 C ¯ ¯ 7 + 25 7 ) a 2 ′ ′ = a 2 ∗ ∗ + a 2 ∗ ∗ 2 ( 1 − − C ¯ ¯ 7 C ¯ ¯ 7 + 25 7 ) {\displaystyle a_{1}^{\prime }=a_{1}^{*}+{\frac {a_{1}^{*}}{2}}\left(1-{\sqrt {\frac {{\bar {C}}^{7}}{{\bar {C}}^{7}+25^{7}}}}\right)\quad a_{2}^{\prime }=a_{2}^{*}+{\frac {a_{2}^{*}}{2}}\left(1-{\sqrt {\frac {{\bar {C}}^{7}}{{\bar {C}}^{7}+25^{7}}}}\right)} C ¯ ¯ ′ ′ = C 1 ′ ′ + C 2 ′ ′ 2 and Δ Δ C ′ = C 2 ′ − − C 1 ′ where C 1 ′ ′ = a 1 ′ 2 + b 1 ∗ ∗ 2 C 2 ′ ′ = a 2 ′ 2 + b 2 ∗ ∗ 2 {\displaystyle {\bar {C}}^{\prime }={\frac {C_{1}^{\prime }+C_{2}^{\prime }}{2}}{\mbox{ and }}\Delta {C'}=C'_{2}-C'_{1}\quad {\mbox{where }}C_{1}^{\prime }={\sqrt {a_{1}^{'^{2}}+b_{1}^{*^{2}}}}\quad C_{2}^{\prime }={\sqrt {a_{2}^{'^{2}}+b_{2}^{*^{2}}}}\quad } h 1 ′ ′ = atan2 ( b 1 ∗ ∗ , a 1 ′ ′ ) mod 360 ∘ ∘ , h 2 ′ ′ = atan2 ( b 2 ∗ ∗ , a 2 ′ ′ ) mod 360 ∘ ∘ {\displaystyle h_{1}^{\prime }={\text{atan2}}(b_{1}^{*},a_{1}^{\prime })\mod 360^{\circ },\quad h_{2}^{\prime }={\text{atan2}}(b_{2}^{*},a_{2}^{\prime })\mod 360^{\circ }} The inverse tangent (tan −1 ) can be computed using a common library routine atan2(b, a ′ ) which usually has a range from −π to π radians; color specifications are given in 0 to 360 degrees, so some adjustment is needed. The inverse tangent is indeterminate if both a ′ and b are zero (which also means that the corresponding C ′ is zero); in that case, set the hue angle to zero. See Sharma 2005 , eqn. 7.

The example above expects the parameter order of atan2 to be atan2(y, x) .

[ 23 ] Δ Δ h ′ = { h 2 ′ ′ − − h 1 ′ ′ | h 2 ′ ′ − − h 1 ′ ′ | ≤ ≤ 180 ∘ ∘ ( h 2 ′ ′ − − h 1 ′ ′ ) − − 360 ∘ ∘ ( h 2 ′ ′ − − h 1 ′ ′ ) > 180 ∘ ∘ ( h 2 ′ ′ − − h 1 ′ ′ ) + 360 ∘ ∘ ( h 2 ′ ′ − − h 1 ′ ′ ) < − − 180 ∘ ∘ {\displaystyle \Delta h'={\begin{cases}h_{2}^{\prime }-h_{1}^{\prime }&\left|h_{2}^{\prime }-h_{1}^{\prime }\right|\leq 180^{\circ }\\\left(h_{2}^{\prime }-h_{1}^{\prime }\right)-360^{\circ }&\left(h_{2}^{\prime }-h_{1}^{\prime }\right)>180^{\circ }\\\left(h_{2}^{\prime }-h_{1}^{\prime }\right)+360^{\circ }&\left(h_{2}^{\prime }-h_{1}^{\prime }\right)<-180^{\circ }\end{cases}}} When either C ′ 1 or C ′ 2 is zero, then Δh ′ is irrelevant and may be set to zero. See Sharma 2005 , eqn. 10.

Δ Δ H ′ ′ = 2 C 1 ′ ′ C 2 ′ ′ sin ⁡ ⁡ ( Δ Δ h ′ ′ 2 ) , h ¯ ¯ ′ ′ = { ( h 1 ′ ′ + h 2 ′ ′ 2 ) | h 1 ′ ′ − − h 2 ′ ′ | ≤ ≤ 180 ∘ ∘ ( h 1 ′ ′ + h 2 ′ ′ + 360 ∘ ∘ 2 ) | h 1 ′ ′ − − h 2 ′ ′ | > 180 ∘ ∘ , h 1 ′ ′ + h 2 ′ ′ < 360 ∘ ∘ ( h 1 ′ ′ + h 2 ′ ′ − − 360 ∘ ∘ 2 ) | h 1 ′ ′ − − h 2 ′ ′ | > 180 ∘ ∘ , h 1 ′ ′ + h 2 ′ ′ ≥ ≥ 360 ∘ ∘ {\displaystyle \Delta H^{\prime }=2{\sqrt {C_{1}^{\prime }C_{2}^{\prime }}}\sin \left({\frac {\Delta h^{\prime }}{2}}\right),\quad {\bar {h}}^{\prime }={\begin{cases}\left({\frac {h_{1}^{\prime }+h_{2}^{\prime }}{2}}\right)&\left|h_{1}^{\prime }-h_{2}^{\prime }\right|\leq 180^{\circ }\\\left({\frac {h_{1}^{\prime }+h_{2}^{\prime }+360^{\circ }}{2}}\right)&\left|h_{1}^{\prime }-h_{2}^{\prime }\right|>180^{\circ },h_{1}^{\prime }+h_{2}^{\prime }<360^{\circ }\\\left({\frac {h_{1}^{\prime }+h_{2}^{\prime }-360^{\circ }}{2}}\right)&\left|h_{1}^{\prime }-h_{2}^{\prime }\right|>180^{\circ },h_{1}^{\prime }+h_{2}^{\prime }\geq 360^{\circ }\\\end{cases}}} When either C ′ 1 or C ′ 2 is zero, then h ′ is h ′ 1 + h ′ 2 (no divide by 2; essentially, if one angle is indeterminate, then use the other angle as the average; relies on indeterminate angle being set to zero). See Sharma 2005 , eqn. 7 and p. 23 stating most implementations on the Internet at the time had "an error in the computation of average hue".

T = 1 − − 0.17 cos ⁡ ⁡ ( h ¯ ¯ ′ ′ − − 30 ∘ ∘ ) + 0.24 cos ⁡ ⁡ ( 2 h ¯ ¯ ′ ′ ) + 0.32 cos ⁡ ⁡ ( 3 h ¯ ¯ ′ ′ + 6 ∘ ∘ ) − − 0.20 cos ⁡ ⁡ ( 4 h ¯ ¯ ′ ′ − − 63 ∘ ∘ ) {\displaystyle T=1-0.17\cos({\bar {h}}^{\prime }-30^{\circ })+0.24\cos(2{\bar {h}}^{\prime })+0.32\cos(3{\bar {h}}^{\prime }+6^{\circ })-0.20\cos(4{\bar {h}}^{\prime }-63^{\circ })} S L = 1 + 0.015 ( L ¯ ¯ − − 50 ) 2 20 + ( L ¯ ¯ − − 50 ) 2 S C = 1 + 0.045 C ¯ ¯ ′ ′ S H = 1 + 0.015 C ¯ ¯ ′ ′ T {\displaystyle S_{L}=1+{\frac {0.015\left({\bar {L}}-50\right)^{2}}{\sqrt {20+{\left({\bar {L}}-50\right)}^{2}}}}\quad S_{C}=1+0.045{\bar {C}}^{\prime }\quad S_{H}=1+0.015{\bar {C}}^{\prime }T} R T = − − 2 C ¯ ¯ ′ 7 C ¯ ¯ ′ 7 + 25 7 sin ⁡ ⁡ [ 60 ∘ ∘ ⋅ ⋅ exp ⁡ ⁡ ( − − [ h ¯ ¯ ′ − − 275 ∘ ∘ 25 ∘ ∘ ] 2 ) ] {\displaystyle R_{T}=-2{\sqrt {\frac {{\bar {C}}'^{7}}{{\bar {C}}'^{7}+25^{7}}}}\sin \left[60^{\circ }\cdot \exp \left(-\left[{\frac {{\bar {h}}'-275^{\circ }}{25^{\circ }}}\right]^{2}\right)\right]} CIEDE 2000 is not mathematically continuous. The discontinuity stems from calculating the mean hue Δ Δ H ′ ′ {\textstyle \Delta H^{\prime }} and the hue difference Δ Δ h ′ {\textstyle \Delta h'} . The maximum discontinuity happens when the hues of two sample colors are about 180° apart, and is usually small relative to ΔE (less than 4%).

[ 24 ] There is also a negligible amount of discontinuity from hue rollover.

[ 25 ] Sharma, Wu, and Dalal has provided some additional notes on the mathematics and implementation of the formula.

[ 25 ] Tolerance [ edit ] See also: Uniform color space A MacAdam diagram in the CIE 1931 color space . The ellipses are shown ten times their actual size.

Tolerancing concerns the question "What is a set of colors that are imperceptibly/acceptably close to a given reference?" If the distance measure is perceptually uniform , then the answer is simply "the set of points whose distance to the reference is less than the just-noticeable-difference (JND) threshold". This requires a perceptually uniform metric in order for the threshold to be constant throughout the gamut (range of colors). Otherwise, the threshold will be a function of the reference color—cumbersome as a practical guide.

In the CIE 1931 color space , for example, the tolerance contours are defined by the MacAdam ellipse , which holds L* (lightness) fixed. As can be observed on the adjacent diagram, the ellipses denoting the tolerance contours vary in size. It is partly this non-uniformity that led to the creation of CIELUV and CIELAB .

More generally, if the lightness is allowed to vary, then we find the tolerance set to be ellipsoidal . Increasing the weighting factor in the aforementioned distance expressions has the effect of increasing the size of the ellipsoid along the respective axis.

[ 26 ] The definition of "acceptably close" also depends on the industrial requirements and practicality. In the automotive industry the Δ E* CMC in the automotive industry is rather stringent, often less than 0.5 under D65/10. In printing, the typical limit is 2.0 under D50, though some processes require up to 5.0.

[ 27 ] See also [ edit ] CIELAB Color coding in data visualization Footnotes [ edit ] Notes [ edit ] ^ Called such because the operator is not commutative . This makes it a quasimetric . Specifically, S { C , H } {\displaystyle S_{\{C,H\}}} both depend on C 1 ∗ ∗ {\displaystyle C_{1}^{*}} only.

References [ edit ] ^ a b "Colour metric" .

Compu Phase .

^ "Color Glossary" .

X-Rite .

^ Li, Changjun; Li, Zhiqiang; Wang, Zhifeng; et al. (December 2017). "Comprehensive color solutions: CAM16, CAT16, and CAM16-UCS".

Color Research & Application .

42 (6): 703– 718.

doi : 10.1002/col.22131 .

^ "What Is ICtCp – Introduction?" (PDF) . Dolby. Version 7.1.

Archived (PDF) from the original on 2016-05-08.

^ "Objective metric for the assessment of the potential visibility of colour differences in television" (PDF) . BT Series: Broadcasting service (television). International Telecommunication Union. January 2019. Recommendation ITU-R BT.2124-0.

^ Abasi, Saeedeh; Amani Tehran, Mohammad; Fairchild, Mark D. (April 2020). "Distance metrics for very large color differences".

Color Research & Application .

45 (2): 208– 223.

doi : 10.1002/col.22451 .

S2CID 209914019 .

^ Backhaus, W.; Kliegl, R.; Werner, J. S. (1998).

Color Vision: Perspectives from Different Disciplines . Walter de Gruyter. p. 188.

ISBN 9783110154313 . Retrieved 2014-12-02 .

^ Valberg, A. (2005).

Light Vision Color . Wiley. p. 278.

ISBN 9780470849026 . Retrieved 2014-12-02 .

^ Fraser, Bruce; Bunting, Fred; Murphy, Chris (2004).

Real World Color Management (2nd ed.). Pearson Education.

ISBN 9780132777957 .

^ Evaluation of the CIE Color Difference Formulas ^ a b "Delta E: The Color Difference" . Colorwiki.com . Retrieved 2009-04-16 .

^ a b Sharma, Gaurav (2003).

Digital Color Imaging Handbook (1.7.2 ed.).

CRC Press .

ISBN 0-8493-0900-X .

^ Meaning that the lightness contributes half as much to the difference (or, identically, is allowed twice the tolerance) as the chroma ^ Lindbloom, Bruce Justin.

"Delta E (CMC)" . Brucelindbloom.com . Retrieved 2009-04-16 .

^ "CMC" (PDF) .

Insight on Color .

8 (13). 1–15 October 1996. Archived from the original (PDF) on 2006-03-12.

^ Lindbloom, Bruce Justin.

"Delta E (CIE 1994)" . Brucelindbloom.com . Retrieved 2011-03-23 .

^ "Colour Difference Software by David Heggie" . Colorpro.com. 1995-12-19 . Retrieved 2009-04-16 .

^ Colorimetry - Part 4: CIE 1976 L*a*b* Colour Space (Report). Draft Standard. CIE. 2007. CIE DS 014-4.3/E:2007.

^ Klein, Georg A. (2010-05-18).

Industrial Color Physics . Springer. p.

147 .

ISBN 978-1-4419-1196-4 .

^ Sharma, Gaurav; Wu, Wencheng; Dalal, Edul N. (2005).

"The CIEDE2000 color-difference formula: Implementation notes, supplementary test data, and mathematical observations" (PDF) .

Color Research & Application .

30 (1).

Wiley Interscience : 21– 30.

doi : 10.1002/col.20070 .

^ Lindbloom, Bruce Justin.

"Delta E (CIE 2000)" . Brucelindbloom.com . Retrieved 2009-04-16 .

^ The "Blue Turns Purple" Problem , Bruce Lindbloom ^ See implementation in Sharma, Gaurav.

"The CIEDE2000 Color-Difference Formula" . "Excel spreadsheet" hyperlink . Retrieved 2023-10-24 .

^ Sharma, Gaurav; Wu, Wencheng; Dalal, Edul N.; Celik, Mehmet U. (1 January 2004).

"Mathematical Discontinuities in CIEDE2000 Color Difference Computations" .

Color and Imaging Conference .

12 (1): 334– 339.

doi : 10.2352/CIC.2004.12.1.art00058 .

^ a b Sharma, Gaurav; Wu, Wencheng; Dalal, Edul N. (February 2005). "The CIEDE2000 color-difference formula: Implementation notes, supplementary test data, and mathematical observations".

Color Research & Application .

30 (1): 21– 30.

doi : 10.1002/col.20070 .

^ Susan Hughes (14 January 1998).

"A guide to Understanding Color Tolerancing" (PDF) . Archived from the original (PDF) on 10 October 2015 . Retrieved 2014-12-02 .

^ Huda, Mike.

"Tips for Defining a Realistic Pass/Fail Tolerance" .

X-Rite . Retrieved 13 September 2024 .

Further reading [ edit ] Robertson, Alan R. (1990).

"Historical development of CIE recommended color difference equations" .

Color Research & Application .

15 (3): 167– 170.

doi : 10.1002/col.5080150308 .

[ dead link ] Melgosa, M.; Quesada, J. J.; Hita, E. (December 1994). "Uniformity of some recent color metrics tested with an accurate color-difference tolerance dataset".

Applied Optics .

33 (34): 8069– 77.

Bibcode : 1994ApOpt..33.8069M .

doi : 10.1364/AO.33.008069 .

PMID 20963027 .

McDonald, Roderick, ed. (1997).

Colour Physics for Industry (2nd ed.).

Society of Dyers and Colourists .

ISBN 0-901956-70-8 .

External links [ edit ] Bruce Lindbloom's color difference calculator . Uses all CIELAB metrics defined herein.

The CIEDE2000 Color-Difference Formula , by Gaurav Sharma. Implementations in MATLAB and Excel.

Explore the Spectrum with Colors in Between , by Bettie M. Cobb.

Excel add-in for color difference calculations and color space conversions , by Edgardo García.

Michel Leonard's CIE ΔE 2000 implementations consistent in 20+ programming languages.

v t e Color topics Color science Color physics Electromagnetic spectrum Light Rainbow Visible Spectral colors Chromophore Structural coloration Animal coloration Color of chemicals Water Spectral power distribution Colorimetry Color perception Chromesthesia Sonochromatism Color blindness Achromatopsia Dichromacy Color calibration Color constancy Color task Color code Color temperature Color vision test Evolution of color vision Impossible colors Metamerism Opponent process Afterimage Unique hues Tetrachromacy The dress Color psychology Color symbolism Color preferences Lüscher color test Kruithof curve Political color National colors Chromophobia Chromotherapy Color reproduction Color photography Color balance Color cast Digital image processing Color management Color printing Multi-primary color display Quattron Color model additive RGB subtractive CMYK Color space Color mapping Color philosophy Color scheme Color tool Monochromatic colors Black-and-white Grisaille Complementary colors Analogous colors Achromatic colors (Neutral) Polychromatic colors Light-on-dark Web colors Tinctures in heraldry Color theory Color mixing Primary color Secondary color Chromaticity Color solid Color wheel Color triangle Color analysis (fashion) Color realism (art style) On Vision and Colours (Schopenhauer) Theory of Colours (Goethe) Color terms Basic English terms Red Orange Yellow Green Blue Purple Pink Brown White Gray Black Cultural differences Linguistic relativity and the color naming debate Blue–green distinction in language Color history Black-and-white dualism Blue in culture Color in Chinese culture Traditional colors of Japan Human skin color Color dimensions Hue Dichromatism Colorfulness Pastel colors Luminance Lightness Darkness Brightness Iridescence Fluorescence Grayscale Tint, shade and tone Color organizations Pantone Color Marketing Group Color Association of the United States International Colour Authority International Commission on Illumination (CIE) International Color Consortium International Colour Association Names Lists List of colors: A–F List of colors: G–M List of colors: N–Z List of colors (compact) List of colors by shade List of color palettes List of color spaces List of Crayola crayon colors history Color chart List of RAL colors List of web colors Shades of: Red Orange Yellow Green Cyan Blue Violet Purple Magenta Pink Brown White Gray Black Related Vision Contrast Qualia Lighting Category Index NewPP limit report
Parsed by mw‐web.codfw.main‐6cc77c66b8‐cdm75
Cached time: 20250812015057
Cache expiry: 2592000
Reduced expiry: false
Complications: [vary‐revision‐sha1, show‐toc]
CPU time usage: 0.585 seconds
Real time usage: 0.769 seconds
Preprocessor visited node count: 4655/1000000
Revision size: 28667/2097152 bytes
Post‐expand include size: 101565/2097152 bytes
Template argument size: 4247/2097152 bytes
Highest expansion depth: 15/100
Expensive parser function count: 6/500
Unstrip recursion depth: 1/20
Unstrip post‐expand size: 106901/5000000 bytes
Lua time usage: 0.346/10.000 seconds
Lua memory usage: 7859412/52428800 bytes
Number of Wikibase entities loaded: 0/500 Transclusion expansion time report (%,ms,calls,template)
100.00%  560.898      1 -total
 37.41%  209.813      2 Template:Reflist
 19.97%  112.026     12 Template:Cite_web
 15.07%   84.524      5 Template:Navbox
 14.27%   80.050      1 Template:Color_topics
 11.89%   66.689      1 Template:Short_description
  9.97%   55.927      8 Template:Cite_journal
  7.43%   41.660      2 Template:Pagetype
  6.65%   37.327      2 Template:Citation_needed
  6.29%   35.278      3 Template:Fix Saved in parser cache with key enwiki:pcache:15292063:|#|:idhash:canonical and timestamp 20250812015057 and revision id 1297370326. Rendering was triggered because: page-view Retrieved from " https://en.wikipedia.org/w/index.php?title=Color_difference&oldid=1297370326 " Categories : Color space Visual perception Color vision Distance Hidden categories: Articles with short description Short description matches Wikidata All articles with unsourced statements Articles with unsourced statements from March 2022 Articles with unsourced statements from January 2023 Articles to be expanded from July 2021 All articles with dead external links Articles with dead external links from January 2025 This page was last edited on 25 June 2025, at 19:44 (UTC) .

Text is available under the Creative Commons Attribution-ShareAlike 4.0 License ;
additional terms may apply. By using this site, you agree to the Terms of Use and Privacy Policy . Wikipedia® is a registered trademark of the Wikimedia Foundation, Inc.

, a non-profit organization.

Privacy policy About Wikipedia Disclaimers Contact Wikipedia Code of Conduct Developers Statistics Cookie statement Mobile view Search Search Toggle the table of contents Color difference 13 languages Add topic

