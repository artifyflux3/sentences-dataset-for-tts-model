Title: Wrapping (text)

URL Source: https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap

Published Time: 2005-08-13T18:38:38Z

Markdown Content:
From Wikipedia, the free encyclopedia

**Text wrapping**, also known as **line wrapping**, **word wrapping** or **line breaking**, is breaking a section of text into lines so that it will fit into the available width of a page, window or other display area. In text display, **line wrap** is continuing on a new line when a line is full, so that each line fits into the viewable area without overflowing, allowing text to be read from top to bottom without any horizontal [scrolling](https://en.wikipedia.org/wiki/Scrolling "Scrolling"). **Word wrap** is the additional feature of most [text editors](https://en.wikipedia.org/wiki/Text_editor "Text editor"), [word processors](https://en.wikipedia.org/wiki/Word_processors "Word processors"), and [web browsers](https://en.wikipedia.org/wiki/Web_browser "Web browser"), of breaking lines between words rather than within words, where possible. Word wrap makes it unnecessary to [hard-code](https://en.wikipedia.org/wiki/Hard_coding "Hard coding")[newline](https://en.wikipedia.org/wiki/Newline "Newline") delimiters within paragraphs, and allows the display of text to adapt flexibly and dynamically to displays of varying sizes.

With word wrap

> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

Without word wrap

> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

Hard coded newlines

> Lorem ipsum dolor sit amet, consectetur adipiscing elit,sed do eiusmod tempor incididunt ut labore et dolore
> 
> magna aliqua. Ut enim ad minim veniam, quis nostrud
> 
> exercitation ullamco laboris nisi ut aliquip ex ea
> 
> commodo consequat. Duis aute irure dolor in
> 
> reprehenderit in voluptate velit esse cillum dolore eu
> 
> fugiat nulla pariatur. Excepteur sint occaecat cupidatat
> 
> non proident, sunt in culpa qui officia deserunt mollit
> 
> anim id est laborum.

Soft and hard returns
---------------------

[[edit](https://en.wikipedia.org/w/index.php?title=Wrapping_(text)&action=edit&section=2 "Edit section: Soft and hard returns")]

A soft return or soft wrap is the break resulting from line wrap or word wrap (whether automatic or manual), whereas a hard return or hard wrap is an intentional break, creating a new paragraph. With a hard return, paragraph-break formatting can (and should) be applied (either [indenting](https://en.wikipedia.org/wiki/Indentation_(typesetting) "Indentation (typesetting)") or vertical whitespace). Soft wrapping allows line lengths to adjust automatically with adjustments to the width of the user's window or margin settings, and is a standard feature of all modern text editors, word processors, and [email clients](https://en.wikipedia.org/wiki/Email_client "Email client"). Manual soft breaks are unnecessary when word wrap is done automatically, so hitting the "Enter" key usually produces a hard return.

Alternatively, "soft return" can mean an intentional, stored line break that is not a paragraph break. For example, it is common to print postal addresses in a multiple-line format, but the several lines are understood to be a single paragraph. Line breaks are needed to divide the words of the address into lines of the appropriate length.

In the contemporary [graphical](https://en.wikipedia.org/wiki/Graphical_user_interface "Graphical user interface") word processors [Microsoft Word](https://en.wikipedia.org/wiki/Microsoft_Word "Microsoft Word") and [Libreoffice Writer](https://en.wikipedia.org/wiki/Libreoffice_Writer "Libreoffice Writer"), users are expected to type a carriage return (↵ [Enter](https://en.wikipedia.org/wiki/Enter_key "Enter key")) between each paragraph. Formatting settings, such as first-line indentation or spacing between paragraphs, take effect where the carriage return marks the break. A non-paragraph line break, which is a soft return, is inserted using ⇧ [Shift](https://en.wikipedia.org/wiki/Shift_key "Shift key")+↵ [Enter](https://en.wikipedia.org/wiki/Enter_key "Enter key") or via the menus, and is provided for cases when the text should start on a new line but none of the other side effects of starting a new paragraph are desired.

In text-oriented markup languages, a soft return is typically offered as a markup tag. For example, in [HTML](https://en.wikipedia.org/wiki/HTML "HTML") there is a <br> tag that has the same purpose as the soft return in word processors described above.

The [Unicode](https://en.wikipedia.org/wiki/Unicode "Unicode") Line Breaking Algorithm determines a set of positions, known as _break opportunities_, that are appropriate places in which to begin a new line. The actual line break positions are picked from among the break opportunities by the higher level software that calls the algorithm, not by the algorithm itself, because only the higher level software knows about the width of the display the text is displayed on and the width of the glyphs that make up the displayed text.[[1]](https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap#cite_note-annex14-1)

The Unicode character set provides a line separator character as well as a paragraph separator to represent the semantics of the soft return and hard return.

U+2028 LINE SEPARATOR may be used to represent these semantics unambiguously U+2029 PARAGRAPH SEPARATOR may be used to represent these semantics unambiguously

Word boundaries, hyphenation, and hard spaces
---------------------------------------------

[[edit](https://en.wikipedia.org/w/index.php?title=Wrapping_(text)&action=edit&section=4 "Edit section: Word boundaries, hyphenation, and hard spaces")]

The soft returns are usually placed after the ends of complete words, or after the punctuation that follows complete words. However, word wrap may also occur following a [hyphen](https://en.wikipedia.org/wiki/Hyphen "Hyphen") inside of a word. This is sometimes not desired, and can be blocked by using a [non-breaking hyphen](https://en.wikipedia.org/wiki/Non-breaking_hyphen "Non-breaking hyphen"), or [hard hyphen](https://en.wikipedia.org/wiki/Hard_hyphen "Hard hyphen"), instead of a regular hyphen.

A word without hyphens can be made wrappable by having [soft hyphens](https://en.wikipedia.org/wiki/Soft_hyphen "Soft hyphen") in it. When the word isn't wrapped (i.e., isn't broken across lines), the soft hyphen isn't visible. But if the word is wrapped across lines, this is done at the soft hyphen, at which point it is shown as a visible hyphen on the top line where the word is broken. (In the rare case of a word that is meant to be wrappable by breaking it across lines but _without_ making a hyphen ever appear, a [zero-width space](https://en.wikipedia.org/wiki/Zero-width_space "Zero-width space") is put at the permitted breaking point(s) in the word.)

Sometimes word wrap is undesirable between adjacent words. In such cases, word wrap can usually be blocked by using a _hard space_ or [non-breaking space](https://en.wikipedia.org/wiki/Non-breaking_space "Non-breaking space") between the words, instead of regular spaces.

Word wrapping in text containing Chinese, Japanese, and Korean
--------------------------------------------------------------

[[edit](https://en.wikipedia.org/w/index.php?title=Wrapping_(text)&action=edit&section=5 "Edit section: Word wrapping in text containing Chinese, Japanese, and Korean")]

In [Chinese](https://en.wikipedia.org/wiki/Chinese_language "Chinese language"), [Japanese](https://en.wikipedia.org/wiki/Japanese_language "Japanese language"), and [Korean](https://en.wikipedia.org/wiki/Korean_language "Korean language"), word wrapping can usually occur before and after any [Han character](https://en.wikipedia.org/wiki/Han_character "Han character"), but certain punctuation characters are not allowed to begin a new line.[[2]](https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap#cite_note-2) Japanese [kana](https://en.wikipedia.org/wiki/Kana "Kana") are treated the same way as Han Characters ([Kanji](https://en.wikipedia.org/wiki/Kanji "Kanji")) by extension, meaning words can, and tend to be, broken without any explicit indication that a word continues on the next line.

Under certain circumstances, however, word wrapping is not desired. For instance,

*   word wrapping might not be desired within personal names, and
*   word wrapping might not be desired within any compound words (when the text is flush left but only in some styles).

Most existing word processors and [typesetting](https://en.wikipedia.org/wiki/Typesetting "Typesetting") software cannot handle either of the above scenarios.

[CJK](https://en.wikipedia.org/wiki/CJK_characters "CJK characters") punctuation may or may not follow rules similar to the above-mentioned special circumstances. It is up to [line breaking rules in CJK](https://en.wikipedia.org/wiki/Line_breaking_rules_in_East_Asian_language "Line breaking rules in East Asian language").

Word wrapping is an [optimization problem](https://en.wikipedia.org/wiki/Optimization_problem "Optimization problem"). Depending on what needs to be optimized for, different algorithms are used.

### Minimum number of lines

[[edit](https://en.wikipedia.org/w/index.php?title=Wrapping_(text)&action=edit&section=7 "Edit section: Minimum number of lines")]

A simple way to do word wrapping is to use a [greedy algorithm](https://en.wikipedia.org/wiki/Greedy_algorithm "Greedy algorithm") that puts as many words on a line as possible, then moving on to the next line to do the same until there are no more words left to place. This method is used by many modern word processors, such as [Libreoffice Writer](https://en.wikipedia.org/wiki/Libreoffice_Writer "Libreoffice Writer") and Microsoft Word.[_[citation needed](https://en.wikipedia.org/wiki/Wikipedia:Citation\_needed "Wikipedia:Citation needed")_] This algorithm always uses the minimum possible number of lines but may lead to lines of widely varying lengths. The following pseudocode implements this algorithm:

SpaceLeft := LineWidth
for each Word in Text
    if (Width(Word) + SpaceWidth) > SpaceLeft
        insert line break before Word in Text
        SpaceLeft := LineWidth - Width(Word)
    else
        SpaceLeft := SpaceLeft - (Width(Word) + SpaceWidth)

Where `LineWidth` is the width of a line, `SpaceLeft` is the remaining width of space on the line to fill, `SpaceWidth` is the width of a single space character, `Text` is the input text to iterate over and `Word` is a word in this text.

A different algorithm, used in [TeX](https://en.wikipedia.org/wiki/TeX "TeX"), minimizes the sum of the squares of the lengths of the spaces at the end of lines to produce a more aesthetically pleasing result than the greedy algorithm, which does not always minimize squared space.

A primitive line-breaking feature was used in 1955 in a "page printer control unit" developed by [Western Union](https://en.wikipedia.org/wiki/Western_Union "Western Union"). This system used relays rather than programmable digital computers, and therefore needed a simple algorithm that could be implemented without [data buffers](https://en.wikipedia.org/wiki/Data_buffer "Data buffer"). In the Western Union system, each line was broken at the first space character to appear after the 58th character, or at the 70th character if no space character was found.[[3]](https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap#cite_note-3)

The greedy algorithm for line-breaking predates the dynamic programming method outlined by [Donald Knuth](https://en.wikipedia.org/wiki/Donald_Knuth "Donald Knuth") in an unpublished 1977 memo describing his TeX typesetting system[[4]](https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap#cite_note-4) and later published in more detail by Knuth & Plass (1981).[[5]](https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap#cite_note-5)

*   [Non-breaking space](https://en.wikipedia.org/wiki/Non-breaking_space "Non-breaking space")– Special character in text processing
*   [Typographic alignment](https://en.wikipedia.org/wiki/Typographic_alignment "Typographic alignment")– Setting of text flow or image placement relative to a page, column, table cell, or tab
*   [Zero-width space](https://en.wikipedia.org/wiki/Zero-width_space "Zero-width space")– Special character in text processing
*   [Word divider](https://en.wikipedia.org/wiki/Word_divider "Word divider")– Glyph that separates written words
*   [Word joiner](https://en.wikipedia.org/wiki/Word_joiner "Word joiner")– Character in text processing
*   [Characters per line](https://en.wikipedia.org/wiki/Characters_per_line "Characters per line")– Max number of monospaced characters allowed on a line
*   [Line length](https://en.wikipedia.org/wiki/Line_length "Line length")– In typography, width of a block of typeset text

1.   **[^](https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap#cite_ref-annex14_1-0 "Jump up")**Heninger, Andy, ed. (2013-01-25). ["Unicode Line Breaking Algorithm"](https://www.unicode.org/L2/L2013/13022-uax14-31.pdf)(PDF). _Technical Reports_. Annex #14 (Proposed Update Unicode Standard): 2. Retrieved 10 March 2015. WORD JOINER should be used if the intent is to merely prevent a line break
2.   **[^](https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap#cite_ref-2 "Jump up")**Lunde, Ken (1999), [_CJKV Information Processing: Chinese, Japanese, Korean & Vietnamese Computing_](https://books.google.com/books?id=Cn7jnk9WwZEC&pg=PA352), O'Reilly Media, Inc., p.352, [ISBN](https://en.wikipedia.org/wiki/ISBN_(identifier) "ISBN (identifier)")[9781565922242](https://en.wikipedia.org/wiki/Special:BookSources/9781565922242 "Special:BookSources/9781565922242").
3.   **[^](https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap#cite_ref-3 "Jump up")**Harris, Robert W. (January 1956), ["Keyboard standardization"](https://web.archive.org/web/20150803091021/http://massis.lcs.mit.edu/archives/technical/western-union-tech-review/10-1/p040.htm), _Western Union Technical Review_, **10** (1): 37–42, archived from [the original](http://massis.lcs.mit.edu/archives/technical/western-union-tech-review/10-1/p040.htm) on 2015-08-03, retrieved 2013-04-07.
4.   **[^](https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap#cite_ref-4 "Jump up")**[Knuth, Donald](https://en.wikipedia.org/wiki/Donald_Knuth "Donald Knuth") (1977), [_TEXDR.AFT_](https://www.saildart.org/TEXDR.AFT%5B1,DEK%5D), retrieved 2013-04-07. Reprinted in [Knuth, Donald](https://en.wikipedia.org/wiki/Donald_Knuth "Donald Knuth") (1999), [_Digital Typography_](https://archive.org/details/digitaltypograph0000knut), CSLI Lecture Notes, vol.78, Stanford, California: Center for the Study of Language and Information, [ISBN](https://en.wikipedia.org/wiki/ISBN_(identifier) "ISBN (identifier)")[1-57586-010-4](https://en.wikipedia.org/wiki/Special:BookSources/1-57586-010-4 "Special:BookSources/1-57586-010-4").
5.   **[^](https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap#cite_ref-5 "Jump up")**Knuth, Donald Ervin; Plass, Michael F (1981), "Breaking Paragraphs into Lines", _Software: Practice and Experience_, **11** (11): 1119–84, [doi](https://en.wikipedia.org/wiki/Doi_(identifier) "Doi (identifier)"):[10.1002/spe.4380111102](https://doi.org/10.1002%2Fspe.4380111102), [S2CID](https://en.wikipedia.org/wiki/S2CID_(identifier) "S2CID (identifier)")[206508107](https://api.semanticscholar.org/CorpusID:206508107)

*   [Unicode Line Breaking Algorithm](https://www.unicode.org/reports/tr14/)
